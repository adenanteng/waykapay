import{T as C,d as r,A as P,o as v,c as E,w as g,a as e,j as u,v as m,e as x,b as t,n as p,f as k,u as l,g as N}from"./app-1bfae51b.js";import{_ as U}from"./PrimaryButton-b9349185.js";import"./moment-fbc5633a.js";import{_ as j}from"./BlankLayout-a6c59d99.js";import{_ as h}from"./InputLabel-abbfb24a.js";import{_ as w}from"./TextInput-bae4017a.js";import{_ as y}from"./InputError-3dfde35c.js";import"./OnlineStatus-6d1d7665.js";import"./index-f4013013.js";import"./helper-04030b53.js";const B={class:"min-h-screen"},M={class:"mt-10"},S=e("div",{class:""},null,-1),$={class:"my-10 text-center"},A=e("i",{class:"fa-duotone fa-loader fa-spin text-3xl text-primary-600"},null,-1),I=[A],O={id:"photoTaken",ref:"canvas",class:"rounded-3xl scale-x-flip w-full",width:450,height:337.5},F={key:0,class:"text-center mt-2 absolute bottom-5 left-0 right-0 justify-center"},K=e("i",{class:"fa-light fa-camera text-3xl text-white nightwind-prevent"},null,-1),L=[K],D={class:"mt-5 p-3 grid space-y-5"},H={class:""},z={class:""},q={class:""},te={__name:"CreateEdit",props:{},setup(G){const a=C({name:null,ktp:null,photo:null}),o=r(!1),n=r(!1),c=r(!1),i=r(!1);r("#");const d=r(null);P(()=>{setTimeout(()=>T(),1e3)});function T(){o.value===!0?(o.value=!1,n.value=!1,c.value=!1):(o.value=!0,b())}function b(){i.value=!0;const f=window.constraints={audio:!1,video:!0};navigator.mediaDevices.getUserMedia(f).then(s=>{i.value=!1,d.value.srcObject=s}).catch(s=>{i.value=!1,alert("May the browser didn't support or there is some errors.")})}function V(){n||(c.value=!0,setTimeout(()=>{c.value=!1},50)),n.value=!n.value,document.getElementById("photoTaken").getContext("2d").drawImage(d.value,0,0,450,337.5)}return(f,s)=>(v(),E(j,{title:"Upgrade"},{default:g(()=>[e("div",B,[e("div",M,[S,u(e("div",$,I,512),[[m,o.value&&i.value]]),o.value?u((v(),x("div",{key:0,class:p(["p-3 rounded-3xl relative",{flash:c.value}])},[t(h,{value:"Foto KTP",class:"ml-3 mb-1"}),e("div",{class:p(["",{flash:c.value}])},null,2),u(e("video",{ref_key:"camcam",ref:d,class:"rounded-3xl scale-x-flip",width:450,height:337.5,autoplay:""},null,512),[[m,!n.value]]),u(e("canvas",O,null,512),[[m,n.value]]),o.value&&!i.value?(v(),x("div",F,[e("button",{class:"",onClick:V},L)])):k("",!0)],2)),[[m,!i.value]]):k("",!0)]),e("div",D,[e("div",H,[t(h,{for:"ktp",value:"Nomor KTP",class:"ml-3"}),t(w,{id:"ktp",modelValue:l(a).ktp,"onUpdate:modelValue":s[0]||(s[0]=_=>l(a).ktp=_),type:"number",class:"mt-1 block w-full"},null,8,["modelValue"]),t(y,{message:l(a).errors.ktp,class:"mt-2"},null,8,["message"])]),e("div",z,[t(h,{for:"name",value:"Nama Sesuai KTP",class:"ml-3"}),t(w,{id:"name",modelValue:l(a).name,"onUpdate:modelValue":s[1]||(s[1]=_=>l(a).name=_),type:"text",class:"mt-1 block w-full uppercase"},null,8,["modelValue"]),t(y,{message:l(a).errors.name,class:"mt-2"},null,8,["message"])]),e("div",q,[t(U,{class:p(["w-full justify-center",{"opacity-25":l(a).processing}]),disabled:l(a).processing},{default:g(()=>[N(" Ajukan Pendaftaran ")]),_:1},8,["class","disabled"])])])])]),_:1}))}};export{te as default};
