import{T as C,d as r,z as P,o as p,c as E,w as g,a as e,j as u,v as m,e as x,b as s,n as v,f as k,u as l,g as N}from"./app-68e60eb5.js";import{_ as U}from"./PrimaryButton-8e25d15f.js";import"./moment-fbc5633a.js";import{_ as j}from"./BlankLayout-52e3470e.js";import{_ as h}from"./InputLabel-0f3b915f.js";import{_ as w}from"./TextInput-b7f301a8.js";import{_ as y}from"./InputError-37392a7f.js";import"./OnlineStatus-926f178d.js";import"./index-f61abb20.js";import"./helper-04030b53.js";import"./BackgroundParticle-ff8731fa.js";const B={class:"min-h-screen"},M={class:"mt-10"},S=e("div",{class:""},null,-1),$={class:"my-10 text-center"},I=e("i",{class:"fa-duotone fa-loader fa-spin text-3xl text-primary-600"},null,-1),O=[I],A={id:"photoTaken",ref:"canvas",class:"rounded-3xl scale-x-flip w-full",width:450,height:337.5},F={key:0,class:"text-center mt-2 absolute bottom-5 left-0 right-0 justify-center"},K=e("i",{class:"fa-light fa-camera text-3xl text-white nightwind-prevent"},null,-1),L=[K],z={class:"mt-5 p-3 grid space-y-5"},D={class:""},H={class:""},q={class:""},le={__name:"CreateEdit",props:{},setup(G){const t=C({name:null,ktp:null,photo:null}),o=r(!1),n=r(!1),c=r(!1),i=r(!1);r("#");const d=r(null);P(()=>{setTimeout(()=>T(),1e3)});function T(){o.value===!0?(o.value=!1,n.value=!1,c.value=!1):(o.value=!0,b())}function b(){i.value=!0;const f=window.constraints={audio:!1,video:!0};navigator.mediaDevices.getUserMedia(f).then(a=>{i.value=!1,d.value.srcObject=a}).catch(a=>{i.value=!1,alert("May the browser didn't support or there is some errors.")})}function V(){n||(c.value=!0,setTimeout(()=>{c.value=!1},50)),n.value=!n.value,document.getElementById("photoTaken").getContext("2d").drawImage(d.value,0,0,450,337.5)}return(f,a)=>(p(),E(j,{title:"Upgrade"},{default:g(()=>[e("div",B,[e("div",M,[S,u(e("div",$,O,512),[[m,o.value&&i.value]]),o.value?u((p(),x("div",{key:0,class:v(["p-3 rounded-3xl relative",{flash:c.value}])},[s(h,{value:"Foto KTP",class:"ml-3 mb-1"}),e("div",{class:v(["",{flash:c.value}])},null,2),u(e("video",{ref_key:"camcam",ref:d,class:"rounded-3xl scale-x-flip",width:450,height:337.5,autoplay:""},null,512),[[m,!n.value]]),u(e("canvas",A,null,512),[[m,n.value]]),o.value&&!i.value?(p(),x("div",F,[e("button",{class:"",onClick:V},L)])):k("",!0)],2)),[[m,!i.value]]):k("",!0)]),e("div",z,[e("div",D,[s(h,{for:"ktp",value:"Nomor KTP",class:"ml-3"}),s(w,{id:"ktp",modelValue:l(t).ktp,"onUpdate:modelValue":a[0]||(a[0]=_=>l(t).ktp=_),type:"number",class:"mt-1 block w-full"},null,8,["modelValue"]),s(y,{message:l(t).errors.ktp,class:"mt-2"},null,8,["message"])]),e("div",H,[s(h,{for:"name",value:"Nama Sesuai KTP",class:"ml-3"}),s(w,{id:"name",modelValue:l(t).name,"onUpdate:modelValue":a[1]||(a[1]=_=>l(t).name=_),type:"text",class:"mt-1 block w-full uppercase"},null,8,["modelValue"]),s(y,{message:l(t).errors.name,class:"mt-2"},null,8,["message"])]),e("div",q,[s(U,{class:v(["w-full justify-center",{"opacity-25":l(t).processing}]),disabled:l(t).processing},{default:g(()=>[N(" Ajukan Pendaftaran ")]),_:1},8,["class","disabled"])])])])]),_:1}))}};export{le as default};
