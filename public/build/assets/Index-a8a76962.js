import{_ as N}from"./AppLayout-9254b4e2.js";import{z as j,d as m,s as C,o,c as T,w as b,a as e,t as r,b as f,u as x,G as y,e as i,h,F as n,n as g,g as _,f as Y,m as L,O}from"./app-5d3157be.js";import{h as R}from"./moment-fbc5633a.js";import{_ as $}from"./TextInput-f2486ecd.js";import{_ as z}from"./SelectInput-64afb3e5.js";import{G as D}from"./vue-tailwind-datepicker-30ca2fbd.js";import"./OnlineStatus-4903681b.js";import"./index-f80a4f4d.js";import"./DarkmodeToggle-3bd07fdd.js";import"./use-controllable-18c8564c.js";import"./focus-management-b3ce0fb5.js";const F={class:"col-span-1 divide-y divide-gray-300 dark:divide-gray-600 rounded-3xl bg-white bg-opacity-50 shadow-lg border border-gray-300"},G={class:"flex w-full items-center justify-between space-x-6 p-6"},H={class:"flex-1 truncate"},S=e("div",{class:"flex items-center space-x-3"},[e("h3",{class:"truncate text-sm text-gray-600"},"Laba")],-1),U={class:"mt-1 truncate text-sm font-medium text-gray-900"},E=e("i",{class:"fa-duotone fa-money-bill-1-wave text-green-600 text-3xl flex-shrink-0"},null,-1),I={class:"-mt-px flex divide-x divide-gray-300 dark:divide-gray-600"},K={class:"flex w-0 flex-1"},P={class:"relative -mr-px inline-flex w-0 flex-1 items-center justify-center rounded-bl-lg border border-transparent py-4"},q={class:"ml-3 text-center"},A=e("div",{class:"text-xs text-gray-500"},"Transaksi",-1),J={class:"text-sm font-medium text-gray-700"},Q={class:""},W={class:"w-full"},X={class:"grid lg:flex space-y-5 lg:space-y-0 lg:gap-3"},Z={class:"w-full"},ee={class:"w-full"},te={class:""},ae={class:"text-sm text-gray-500 font-medium ml-5 mt-5 mb-1"},se={class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},re={role:"list",class:"divide-y divide-gray-300 dark:divide-gray-600"},oe={class:"px-4 py-4 sm:px-6"},le={class:"flex items-center justify-between"},ie={class:"ml-2 flex-shrink-0 flex"},ne={class:"flex justify-between"},de={class:"flex"},he={__name:"Index",props:{transaction:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},gross_amount:Number,agent_commission:Number,transaction_count:Number},setup(k){const d=k;j(()=>{});let c=m(d.filters.search),u=m(d.filters.filter);const v=m([]);C([c,u,v],([s,l,a])=>{O.get(route("report.index"),{search:s,filter:l,date_start:a?a[0]:null,date_end:a?a[1]:null},{preserveState:!0,replace:!0})});const w=m({date:"YYYY-MM-DD",month:"MMM"}),M=m({shortcuts:{today:"Hari ini",yesterday:"Kemarin",past:s=>s+" hari terakhir",currentMonth:"Bulan ini",pastMonth:"Bulan lalu"},footer:{apply:"Terapkan",cancel:"Batal"}});function V(s){return R(s).format("DD MMM Y HH:mm")}function p(s){return(s/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return(s,l)=>(o(),T(N,{title:"Laporan Transaksi",name:"Laporan Transaksi",desc:"Riwayat transaksi kamu"},{default:b(()=>[e("div",F,[e("div",G,[e("div",H,[S,e("p",U,"Rp "+r(p(Number(d.agent_commission))),1)]),E]),e("div",null,[e("div",I,[e("div",K,[e("div",P,[e("div",q,[A,e("div",J,r(p(d.transaction_count)),1)])])])])])]),e("div",Q,[e("div",W,[f($,{type:"text",modelValue:x(c),"onUpdate:modelValue":l[0]||(l[0]=a=>y(c)?c.value=a:c=a),placeholder:"Cari disini",class:"block w-full lg:w-96 shadow"},null,8,["modelValue"])])]),e("div",X,[e("div",Z,[f(x(D),{modelValue:v.value,"onUpdate:modelValue":l[1]||(l[1]=a=>v.value=a),"input-classes":"bg-white text-black border border-gray-300 focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 rounded-3xl shadow-sm rounded-full",options:M.value,formatter:w.value,placeholder:"Bulan",separator:" - ","use-range":"","as-single":"",i18n:"id"},null,8,["modelValue","options","formatter"])]),e("div",ee,[f(z,{"model-value":x(u),"onUpdate:modelValue":l[2]||(l[2]=a=>y(u)?u.value=a:u=a),"model-valueModifiers":{number:!0},option:s.$page.props.selectCategory,class:"block w-full shadow"},null,8,["model-value","option"])])]),e("div",te,[(o(!0),i(n,null,h(d.transaction,(a,B)=>(o(),i(n,null,[e("h3",ae,r(B),1),e("div",se,[e("ul",re,[(o(!0),i(n,null,h(a,t=>(o(),i("li",{key:t.id},[f(x(L),{href:s.route("history.show",t.order_id),class:"block hover:bg-primary-50"},{default:b(()=>[e("div",oe,[e("div",le,[e("p",{class:g(["text-sm font-medium truncate capitalize",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},[_(r(t.product_name)+" ",1),t.virtual_account?(o(),i(n,{key:0},[_(r(t.virtual_account.bank),1)],64)):t.wallet_account?(o(),i(n,{key:1},[_(r(t.wallet_account.bank),1)],64)):t.money_transfer?(o(),i(n,{key:2},[t.user_id==s.$page.props.user.id?(o(),i(n,{key:0},[_(" ke "+r(t.money_transfer.to.name),1)],64)):(o(),i(n,{key:1},[_(" dari "+r(t.user.name),1)],64))],64)):Y("",!0)],2),e("div",ie,[e("p",{class:g(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",t.color])},r(t.status),3)])]),e("div",ne,[e("div",de,[e("p",{class:g(["flex items-center text-xs",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},r(t.category_id==1||t.user_id!=s.$page.props.user.id?"+":"-")+" Rp "+r(t.category_id==1?p(t.amount):p(t.gross_amount)),3)]),e("div",{class:g(["flex items-center text-xs",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},r(V(t.created_at)),3)])])]),_:2},1032,["href"])]))),128))])])],64))),256))])]),_:1}))}};export{he as default};
