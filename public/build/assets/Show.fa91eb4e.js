import{T as C,c as N,w as _,o as e,b as c,e as i,a as s,t as o,f as a,F as h,u as d,U as u,C as K,g as y,n as A,V}from"./app.94504208.js";import{_ as D}from"./AppLayout.789f413f.js";import{h as M}from"./moment.9709ab41.js";import{_ as P}from"./PreviousButton.b9051bcb.js";import{e as b}from"./popper.esm.c8bc994c.js";import{A as R}from"./ApplicationLogo.08a22f25.js";import{_ as I}from"./InputLabel.bb48e568.js";import{_ as F}from"./TextInput.fd22eb55.js";import{_ as H}from"./InputError.204dd2b8.js";import{_ as S}from"./PrimaryButton.586f2aed.js";import{_ as q}from"./ActionMessage.1bcc93f6.js";import{_ as J}from"./SecondaryButton.f7b84178.js";import{A as L}from"./ApplicationLogoTitle.40ac01d9.js";import"./helper.019fb55c.js";import"./DarkmodeToggle.7a30611e.js";import"./label.df030f53.js";import"./focus-management.2a817b70.js";import"./_plugin-vue_export-helper.cdc0426e.js";const O={id:"printMe",class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},Q={class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},U=s("h3",{class:"mt-1 text-lg font-bold leading-6 text-gray-900"},"Transaksi Berhasil",-1),z={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},E={class:"grid grid-cols-1 gap-x-4 gap-y-2 sm:gap-y-8 sm:grid-cols-2 text-gray-900"},Y={class:"sm:col-span-1 flex sm:block justify-between"},G=s("div",{class:"text-sm"},"Tanggal",-1),W={class:"text-sm font-semibold"},X={class:"sm:col-span-1 flex sm:block justify-between"},Z=s("div",{class:"text-sm"},"Kode Referensi",-1),ss={class:"text-sm font-semibold"},ts=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),os={key:0,class:"sm:col-span-1 flex sm:block justify-between"},es=s("div",{class:"text-sm"},"Kategori",-1),is={class:"text-sm font-semibold"},as={key:1,class:"sm:col-span-1 flex sm:block justify-between"},cs=s("div",{class:"text-sm"},"Sumber Dana",-1),ds={key:0,class:"text-sm font-semibold uppercase"},ns={key:1,class:"text-sm font-semibold uppercase"},ls={key:2,class:"text-sm font-semibold uppercase"},rs={class:"sm:col-span-1 flex sm:block justify-between"},_s=s("div",{class:"text-sm"},"Jenis Transaksi",-1),ms={class:"text-sm font-semibold uppercase"},hs={class:"sm:col-span-1 flex sm:block justify-between"},ys=s("div",{class:"text-sm"},"Bank Tujuan",-1),fs={class:"text-sm font-semibold uppercase"},us={class:"sm:col-span-1 flex sm:block justify-between"},bs=s("div",{class:"text-sm"},"Nama Tujuan",-1),ps={class:"text-sm font-semibold uppercase"},xs={class:"sm:col-span-1 flex sm:block justify-between"},vs=s("div",{class:"text-sm"},"No. Rekening Tujuan",-1),gs={class:"text-sm font-semibold uppercase"},ks={key:3,class:"sm:col-span-1 flex sm:block justify-between"},ws=s("div",{class:"text-sm"},"Produk",-1),js={class:"text-sm font-semibold uppercase"},Bs={key:4,class:"sm:col-span-1 flex sm:block justify-between"},Ns=s("div",{class:"text-sm"},"No. Kustomer",-1),Rs={class:"text-sm font-semibold"},Ss={class:"sm:col-span-1 flex sm:block justify-between"},Ts=s("div",{class:"text-sm"},"Nama Kustomer",-1),$s={class:"text-sm font-semibold"},Cs={class:"sm:col-span-1 flex sm:block justify-between"},Ks=s("div",{class:"text-sm"},"Stroom",-1),As={class:"text-sm font-bold"},Vs={key:6,class:"sm:col-span-2 flex sm:block justify-between gap-5"},Ds=s("div",{class:"text-sm"},"Keterangan",-1),Ms={class:"text-sm font-semibold text-right sm:text-left truncate"},Ps=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),Is={class:"sm:col-span-1 flex sm:block justify-between"},Fs=s("div",{class:"text-sm"},"Nominal",-1),Hs={class:"text-sm font-semibold"},qs={class:"sm:col-span-1 flex sm:block justify-between"},Js=s("div",{class:"text-sm"},"Biaya Admin",-1),Ls={class:"text-sm font-semibold"},Os={key:7,class:"sm:col-span-1 flex sm:block justify-between"},Qs=s("div",{class:"text-sm"},"Komisi",-1),Us={class:"text-sm font-semibold"},zs=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),Es={class:"sm:col-span-1 flex sm:block justify-between"},Ys=s("div",{class:"text-sm font-bold"},"Total",-1),Gs={class:"text-sm font-bold"},Ws={key:0,class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},Xs=s("div",{class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},[s("h3",{class:"mt-1 text-lg font-bold leading-6 text-gray-900"},"Komisi Agen")],-1),Zs={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},st=["onSubmit"],tt={class:"grid grid-cols-6"},ot={class:"col-span-6 sm:col-span-3"},et={class:"flex"},it=s("span",{class:"flex items-center bg-white text-black border border-gray-300 border-r-0 rounded-3xl rounded-r-none shadow-sm mt-1 px-3"}," Rp ",-1),at={class:"col-span-6 mt-3 flex justify-between items-center"},ct={class:"flex justify-center gap-2"},dt=s("i",{class:"fa-regular fa-home mr-2"},null,-1),nt=s("i",{class:"fa-regular fa-share-nodes mr-2"},null,-1),lt=s("div",{class:"pb-80 lg:pb-0"},null,-1),rt={key:1,class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},_t={class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},mt=s("h3",{class:"mt-1 text-lg font-bold leading-6 text-gray-900"},"Transaksi Pending",-1),ht={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},yt={class:"grid grid-cols-1 gap-x-4 gap-y-2 sm:gap-y-8 sm:grid-cols-2 text-gray-900"},ft={class:"sm:col-span-1 flex sm:block justify-between"},ut=s("div",{class:"text-sm"},"Bank",-1),bt={class:"text-sm font-semibold uppercase"},pt={class:"sm:col-span-1 flex sm:block justify-between"},xt=s("div",{class:"text-sm"},"No. Virtual Account",-1),vt={class:"text-sm font-semibold"},gt=s("i",{class:"fa-duotone fa-paste ml-2"},null,-1),kt=[gt],wt={class:"sm:col-span-1 flex sm:block justify-between"},jt=s("div",{class:"text-sm"},"Metode Pembayaran",-1),Bt={class:"text-sm font-semibold uppercase"},Nt={class:"sm:col-span-2 flex flex-col items-center my-5 gap-3"},Rt=s("div",{class:"text-sm"},[s("img",{src:"/img/vendor/QRIS.svg",class:"h-8 w-auto",alt:"QRIS"})],-1),St={class:"text-sm"},Tt={class:"sm:col-span-1 flex sm:block justify-between"},$t=s("div",{class:"text-sm"},"Deeplink",-1),Ct={class:"text-sm font-semibold text-primary-600 underline"},Kt=["href"],At={class:"sm:col-span-1 flex sm:block justify-between"},Vt=s("div",{class:"text-sm"},"Metode Pembayaran",-1),Dt={class:"text-sm font-semibold uppercase"},Mt={class:"sm:col-span-1 flex sm:block justify-between"},Pt=s("div",{class:"text-sm"},"No. Pembayaran",-1),It={class:"text-sm font-semibold"},Ft=s("i",{class:"fa-duotone fa-paste ml-2"},null,-1),Ht=[Ft],qt={class:"sm:col-span-1 flex sm:block justify-between"},Jt=s("div",{class:"text-sm"},"Cara bayar",-1),Lt={class:"text-sm font-semibold text-primary-600 underline"},Ot=["href"],Qt=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),Ut={class:"sm:col-span-1 flex sm:block justify-between"},zt=s("div",{class:"text-sm"},"Nominal",-1),Et={class:"text-sm font-semibold"},Yt={class:"sm:col-span-1 flex sm:block justify-between"},Gt=s("div",{class:"text-sm"},"Biaya Admin",-1),Wt={class:"text-sm font-semibold"},Xt={class:"sm:col-span-1 flex sm:block justify-between"},Zt=s("div",{class:"text-sm"},"Total",-1),so={class:"text-sm font-semibold"},to={key:2,class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},oo={class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},eo={class:"mt-1 text-lg font-bold leading-6 text-gray-900"},io={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},ao={class:"grid grid-cols-1 gap-x-4 gap-y-2 sm:gap-y-8 sm:grid-cols-2 text-gray-900"},co={class:"sm:col-span-1 flex sm:block justify-between"},no=s("div",{class:"text-sm"},"Tanggal",-1),lo={class:"text-sm font-semibold"},ro={class:"sm:col-span-1 flex sm:block justify-between"},_o=s("div",{class:"text-sm"},"Kode Referensi",-1),mo={class:"text-sm font-semibold"},ho=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),yo={class:"sm:col-span-1 flex sm:block justify-between"},fo=s("div",{class:"text-sm"},"Kategori",-1),uo={class:"text-sm font-semibold"},bo={key:0,class:"sm:col-span-1 flex sm:block justify-between"},po=s("div",{class:"text-sm"},"Sumber Dana",-1),xo={key:0,class:"text-sm font-semibold uppercase"},vo={key:1,class:"text-sm font-semibold uppercase"},go={key:2,class:"text-sm font-semibold uppercase"},ko={key:1,class:"sm:col-span-1 flex sm:block justify-between"},wo=s("div",{class:"text-sm"},"Produk",-1),jo={class:"text-sm font-semibold"},Bo={key:2,class:"sm:col-span-1 flex sm:block justify-between"},No=s("div",{class:"text-sm"},"No. Kustomer",-1),Ro={class:"text-sm font-semibold"},So={class:"sm:col-span-2 flex sm:block justify-between"},To=s("div",{class:"text-sm"},"Keterangan",-1),$o={class:"text-sm font-semibold text-right sm:text-left"},Co=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),Ko={class:"sm:col-span-1 flex sm:block justify-between"},Ao=s("div",{class:"text-sm"},"Nominal",-1),Vo={class:"text-sm font-semibold"},Do={class:"sm:col-span-1 flex sm:block justify-between"},Mo=s("div",{class:"text-sm"},"Biaya Admin",-1),Po={class:"text-sm font-semibold"},Io=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),Fo={class:"sm:col-span-1 flex sm:block justify-between"},Ho=s("div",{class:"text-sm font-bold"},"Total",-1),qo={class:"text-sm font-bold"},ce={__name:"Show",props:{users:Object,history:Object},setup(T){const t=T,m=C({agent_commission:null}),$=()=>{m.patch(route("transaction.update",t.history),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>{m.reset()}})};function p(l){return M(l).format("DD MMM Y HH:mm")}function n(l){return(l/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return(l,r)=>(e(),N(D,{title:t.history.product_name,name:t.history.product_name,desc:"lorem ipsum dolor sit"},{previous:_(()=>[c(P)]),default:_(()=>{var x,v,g,k,w,j,B;return[t.history.status_id==1?(e(),i(h,{key:0},[s("div",O,[s("div",Q,[c(L,{class:"block sm:hidden"}),U]),s("div",z,[s("div",E,[s("div",Y,[G,s("div",W,o(p(t.history.updated_at)),1)]),s("div",X,[Z,s("div",ss,o(t.history.order_id),1)]),ts,t.history.category_id==1?(e(),i("div",os,[es,s("div",is,o(t.history.category),1)])):a("",!0),t.history.category_id==1?(e(),i("div",as,[cs,t.history.virtual_account?(e(),i("div",ds,o(t.history.virtual_account.bank),1)):a("",!0),t.history.wallet_account?(e(),i("div",ns,o(t.history.wallet_account.bank),1)):a("",!0),t.history.offline_account?(e(),i("div",ls,o(t.history.offline_account.bank),1)):a("",!0)])):a("",!0),t.history.category_id==99?(e(),i(h,{key:2},[s("div",rs,[_s,s("div",ms,o(t.history.product_name),1)]),s("div",hs,[ys,s("div",fs,o((x=t.history.money_transfer)==null?void 0:x.bank),1)]),s("div",us,[bs,s("div",ps,o((g=(v=t.history.money_transfer)==null?void 0:v.to)==null?void 0:g.name),1)]),s("div",xs,[vs,s("div",gs,o((w=(k=t.history.money_transfer)==null?void 0:k.to)==null?void 0:w.phone),1)])],64)):a("",!0),t.history.category_id!=99&&t.history.category_id!=1?(e(),i("div",ks,[ws,s("div",js,o(t.history.product_name),1)])):a("",!0),t.history.category_id!=99&&t.history.category_id!=1?(e(),i("div",Bs,[Ns,s("div",Rs,o(t.history.customer_no),1)])):a("",!0),t.history.category_id==5?(e(),i(h,{key:5},[s("div",Ss,[Ts,s("div",$s,o(t.history.desc.split("/")[1]),1)]),s("div",Cs,[Ks,s("div",As,[c(d(b),{content:"Sukses Copy",arrow:"",placement:"right-end"},{default:_(()=>[s("button",{onClick:r[0]||(r[0]=f=>d(u)(t.history.desc.split("/")[0])),class:""},o(t.history.desc.split("/")[0]),1)]),_:1})])])],64)):(e(),i("div",Vs,[Ds,s("div",Ms,o((j=t.history.desc)!=null?j:"-"),1)])),Ps,s("div",Is,[Fs,s("div",Hs," Rp "+o(t.history.category_id==1||t.history.category_id>=8?n(t.history.amount):n(t.history.gross_amount)),1)]),s("div",qs,[Js,s("div",Ls," Rp "+o(t.history.category_id==1||t.history.category_id>=8?n(t.history.admin_fee):"0"),1)]),t.history.agent_commission?(e(),i("div",Os,[Qs,s("div",Us," Rp "+o(n(t.history.agent_commission)),1)])):a("",!0),zs,s("div",Es,[Ys,s("div",Gs,"Rp "+o(n(Number(t.history.gross_amount)+Number(t.history.agent_commission))),1)])])])]),t.history.category_id!=0&&t.history.category_id!=1&&l.$page.props.user.role_id!=3&&t.history.user_id==l.$page.props.user.id?(e(),i("div",Ws,[Xs,s("div",Zs,[s("form",{onSubmit:K($,["prevent"])},[s("div",tt,[s("div",ot,[c(I,{for:"amount",value:"Harga Jual"}),s("div",et,[it,c(F,{id:"amount",modelValue:d(m).agent_commission,"onUpdate:modelValue":r[1]||(r[1]=f=>d(m).agent_commission=f),type:"number",class:"mt-1 block w-full rounded-l-none",min:Number(t.history.gross_amount),max:"100000",required:""},null,8,["modelValue","min"])]),c(H,{message:d(m).errors.agent_commission,class:"mt-2"},null,8,["message"])]),s("div",at,[c(q,{on:d(m).recentlySuccessful,class:"mr-3"},{default:_(()=>[y(" Berhasil disimpan. ")]),_:1},8,["on"]),c(S,{class:A({"opacity-25":d(m).processing}),disabled:d(m).processing},{default:_(()=>[y(" Konfirmasi ")]),_:1},8,["class","disabled"])])])],40,st)])])):a("",!0),s("div",ct,[c(J,{as:"a",href:l.route("dashboard"),class:"justify-center w-full border border-gray-300 nightwind-prevent"},{default:_(()=>[dt,y(" Beranda ")]),_:1},8,["href"]),t.history.user_id==l.$page.props.user.id&&t.history.category_id!=1?(e(),N(S,{key:0,as:"a",href:l.route("transaction.print",t.history.order_id),class:"justify-center w-full"},{default:_(()=>[nt,y(" Bagikan ")]),_:1},8,["href"])):a("",!0)]),lt],64)):t.history.status_id==2?(e(),i("div",rt,[s("div",_t,[c(R,{class:"block sm:hidden"}),mt]),s("div",ht,[s("div",yt,[t.history.virtual_account?(e(),i(h,{key:0},[s("div",ft,[ut,s("div",bt,o(t.history.virtual_account.bank),1)]),s("div",pt,[xt,s("div",vt,[y(o(t.history.virtual_account.va_number)+" ",1),c(d(b),{class:"text-sm text-primary-700 font-normal lowercase",content:"Sukses Copy",arrow:"",placement:"right-end"},{default:_(()=>[s("button",{class:"",onClick:r[2]||(r[2]=f=>d(u)(t.history.virtual_account.va_number))},kt)]),_:1})])])],64)):t.history.wallet_account?(e(),i(h,{key:1},[s("div",wt,[jt,s("div",Bt,o(t.history.wallet_account.bank),1)]),s("div",Nt,[Rt,s("div",St,[c(d(V),{value:t.history.wallet_account.qr_code,tag:"svg",options:{width:200,color:{dark:"#000",light:"#fff"}}},null,8,["value"])])]),s("div",Tt,[$t,s("div",Ct,[s("a",{target:"_blank",href:t.history.wallet_account.payment_url}," Bayar ",8,Kt)])])],64)):t.history.offline_account?(e(),i(h,{key:2},[s("div",At,[Vt,s("div",Dt,o(t.history.offline_account.bank),1)]),s("div",Mt,[Pt,s("div",It,[y(o(t.history.offline_account.payment_code)+" ",1),c(d(b),{class:"text-sm text-primary-700 font-normal lowercase",content:"Sukses Copy",arrow:"",placement:"right-end"},{default:_(()=>[s("button",{class:"",onClick:r[3]||(r[3]=f=>d(u)(t.history.offline_account.payment_code))},Ht)]),_:1})])]),s("div",qt,[Jt,s("div",Lt,[s("a",{target:"_blank",href:t.history.offline_account.payment_url}," Bayar ",8,Ot)])])],64)):a("",!0),Qt,s("div",Ut,[zt,s("div",Et,"Rp "+o(n(t.history.amount)),1)]),s("div",Yt,[Gt,s("div",Wt,"Rp "+o(n(t.history.admin_fee)),1)]),s("div",Xt,[Zt,s("div",so,"Rp "+o(n(t.history.gross_amount)),1)])])])])):(e(),i("div",to,[s("div",oo,[c(R,{class:"block sm:hidden"}),s("h3",eo,"Transaksi "+o(t.history.status),1)]),s("div",io,[s("div",ao,[s("div",co,[no,s("div",lo,o(p(t.history.updated_at)),1)]),s("div",ro,[_o,s("div",mo,o(t.history.order_id),1)]),ho,s("div",yo,[fo,s("div",uo,o(t.history.category),1)]),t.history.category_id==0||t.history.category_id!=1?(e(),i("div",bo,[po,t.history.virtual_account?(e(),i("div",xo,o(t.history.virtual_account.bank),1)):t.history.wallet_account?(e(),i("div",vo,o(t.history.wallet_account.bank),1)):t.history.offline_account?(e(),i("div",go,o(t.history.offline_account.bank),1)):a("",!0)])):a("",!0),t.history.category_id!=0||t.history.category_id!=1?(e(),i("div",ko,[wo,s("div",jo,o(t.history.product_name),1)])):a("",!0),t.history.category_id!=0||t.history.category_id!=1?(e(),i("div",Bo,[No,s("div",Ro,o(t.history.customer_no),1)])):a("",!0),s("div",So,[To,s("div",$o,o((B=t.history.desc)!=null?B:"-"),1)]),Co,s("div",Ko,[Ao,s("div",Vo,"Rp "+o(t.history.category_id==1?n(t.history.amount):n(t.history.gross_amount)),1)]),s("div",Do,[Mo,s("div",Po,"Rp "+o(t.history.category_id==1?n(t.history.admin_fee):"0"),1)]),Io,s("div",Fo,[Ho,s("div",qo,"Rp "+o(n(t.history.gross_amount)),1)])])])]))]}),_:1},8,["title","name"]))}};export{ce as default};
