import{_ as C}from"./AppLayout-4701e41f.js";import{z as S,d as i,s as Y,o,c as $,w,a,b as n,u as f,G as b,e as r,h as j,n as v,g as _,t as l,F as d,f as D,m as L,O as N}from"./app-67fe320a.js";import{h as O}from"./moment-fbc5633a.js";import{_ as U}from"./TextInput-dc38cefd.js";import{_ as z}from"./Pagination-7c30d74f.js";import{_ as y}from"./SelectInput-99d16df9.js";import{G as F}from"./vue-tailwind-datepicker-cfdc315a.js";import"./OnlineStatus-77a176ea.js";import"./index-4f00fa4b.js";import"./DarkmodeToggle-d795c5f2.js";import"./use-controllable-259c8eba.js";import"./focus-management-4bba132b.js";const G={class:""},H={class:"w-full"},R={class:"grid lg:flex space-y-5 lg:space-y-0 lg:gap-3"},T={class:"w-full"},E={class:"w-full"},K={class:"w-full"},P={class:""},q={class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},A={role:"list",class:"divide-y divide-gray-300 dark:divide-gray-600"},I={class:"px-4 py-4 sm:px-6"},J={class:"flex items-center justify-between"},Q={class:"ml-2 flex-shrink-0 flex"},W={class:"flex justify-between"},X={class:"flex"},ce={__name:"Detail",props:{transaction:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(h){const u=h;S(()=>{});let c=i(u.filters.search),p=i(u.filters.filterStatus),m=i(u.filters.filterCategory);const x=i([]);Y([c,p,m,x],([t,s,e,g])=>{N.get(route("report.detail"),{search:t,filter_status:s,filter_category:e,date_start:g?g[0]:null,date_end:g?g[1]:null},{preserveState:!0,replace:!0})});const M=i({date:"YYYY-MM-DD",month:"MMM"}),V=i({shortcuts:{today:"Hari ini",yesterday:"Kemarin",past:t=>t+" hari terakhir",currentMonth:"Bulan ini",pastMonth:"Bulan lalu"},footer:{apply:"Terapkan",cancel:"Batal"}});function B(t){return O(t).format("DD MMM Y HH:mm")}function k(t){return(t/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return(t,s)=>(o(),$(C,{title:"Laporan",name:"Laporan",desc:"Laporan transaksi kamu"},{default:w(()=>[a("div",G,[a("div",H,[n(U,{type:"text",modelValue:f(c),"onUpdate:modelValue":s[0]||(s[0]=e=>b(c)?c.value=e:c=e),placeholder:"Cari disini",class:"block w-full lg:w-96 shadow"},null,8,["modelValue"])])]),a("div",R,[a("div",T,[n(f(F),{modelValue:x.value,"onUpdate:modelValue":s[1]||(s[1]=e=>x.value=e),"input-classes":"bg-white text-black border border-gray-300 focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 rounded-3xl shadow-sm rounded-full",options:V.value,formatter:M.value,placeholder:"Bulan",separator:" - ","use-range":"","as-single":"",i18n:"id"},null,8,["modelValue","options","formatter"])]),a("div",E,[n(y,{"model-value":f(p),"onUpdate:modelValue":s[2]||(s[2]=e=>b(p)?p.value=e:p=e),"model-valueModifiers":{number:!0},option:t.$page.props.selectStatus,class:"block w-full shadow"},null,8,["model-value","option"])]),a("div",K,[n(y,{"model-value":f(m),"onUpdate:modelValue":s[3]||(s[3]=e=>b(m)?m.value=e:m=e),"model-valueModifiers":{number:!0},option:t.$page.props.selectCategory,class:"block w-full shadow"},null,8,["model-value","option"])])]),a("div",P,[a("div",q,[a("ul",A,[(o(!0),r(d,null,j(u.transaction.data,e=>(o(),r("li",{key:e.id},[n(f(L),{href:t.route("history.show",e.order_id),class:"block hover:bg-primary-50"},{default:w(()=>[a("div",I,[a("div",J,[a("p",{class:v(["text-sm font-medium truncate capitalize",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},[_(l(e.product_name)+" ",1),e.virtual_account?(o(),r(d,{key:0},[_(l(e.virtual_account.bank),1)],64)):e.wallet_account?(o(),r(d,{key:1},[_(l(e.wallet_account.bank),1)],64)):e.money_transfer?(o(),r(d,{key:2},[e.user_id==t.$page.props.user.id?(o(),r(d,{key:0},[_(" ke "+l(e.money_transfer.to.name),1)],64)):(o(),r(d,{key:1},[_(" dari "+l(e.user.name),1)],64))],64)):D("",!0)],2),a("div",Q,[a("p",{class:v(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",e.color])},l(e.status),3)])]),a("div",W,[a("div",X,[a("p",{class:v(["flex items-center text-xs",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},l(e.category_id==1||e.user_id!=t.$page.props.user.id?"+":"-")+" Rp "+l(e.category_id==1?k(e.amount):k(e.gross_amount)),3)]),a("div",{class:v(["flex items-center text-xs",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},l(B(e.created_at)),3)])])]),_:2},1032,["href"])]))),128))])])]),n(z,{pagination:u.transaction},null,8,["pagination"])]),_:1}))}};export{ce as default};
