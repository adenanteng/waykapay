import{_ as I}from"./AppLayout.982a051f.js";import{q as N,O as g,s as R,d as S,B as V,c as H,w as v,o as s,a as e,t as a,e as o,F as d,h as _,b as u,n as c,g as n,f as U,u as y,j as $}from"./app.df14e751.js";import{_ as D}from"./MobileMenu.e8029d90.js";import{h as M}from"./moment.9709ab41.js";import{V as O}from"./vue3-lottie.es.c121609d.js";import"./Banner.06b9b5e1.js";import"./DarkmodeToggle.188fa734.js";import"./helper.e9fc3b37.js";import"./label.ca6018ec.js";import"./focus-management.d5830e17.js";const C={class:"col-span-1 divide-y divide-gray-300 dark:divide-gray-600 rounded-3xl bg-white bg-opacity-50 shadow-lg border border-gray-300"},F={class:"-mt-px flex divide-x divide-gray-300 dark:divide-gray-600"},E={class:"flex w-0 flex-1"},J={class:"relative -mr-px inline-flex w-0 flex-1 items-center justify-center rounded-bl-lg border border-transparent py-4"},L=e("i",{class:"fa-duotone fa-down text-primary-400"},null,-1),q={class:"ml-3"},z=e("div",{class:"text-xs text-gray-500"},"Uang masuk",-1),A={class:"text-sm font-medium text-gray-700"},K={class:"-ml-px flex w-0 flex-1"},P={class:"relative inline-flex w-0 flex-1 items-center justify-center rounded-br-lg border border-transparent py-4"},Y=e("i",{class:"fa-duotone fa-up text-amber-400"},null,-1),G={class:"ml-3"},Q=e("div",{class:"text-xs text-gray-500"},"Uang Keluar",-1),T={class:"text-sm font-medium text-gray-700"},W={key:0,class:"animate-pulse rounded-3xl bg-white shadow-lg border border-gray-300 divide-y divide-gray-300"},X={class:"px-4 py-4 sm:px-6"},Z=e("div",{class:"flex items-center justify-between"},[e("p",{class:"bg-gray-300 text-gray-300 w-full rounded-3xl"},"a"),e("div",{class:"ml-2 flex-shrink-0 flex"},[e("p",{class:"px-2 bg-gray-300 text-gray-300 rounded-full w-20"},"b")])],-1),ee=e("div",{class:"sm:flex sm:justify-between"},[e("p",{class:"flex items-center bg-gray-300 text-gray-300 w-1/2 rounded-3xl"},"c")],-1),te=[Z,ee],se={key:1,class:"pt-5"},ae={class:"text-md text-gray-900 font-medium ml-5 mt-5 mb-1"},oe={class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},re={role:"list",class:"divide-y divide-gray-300 dark:divide-gray-600"},de={class:"px-4 py-4 sm:px-6"},ne={class:"flex items-center justify-between"},ie={class:"ml-2 flex-shrink-0 flex"},le={class:"flex justify-between"},ce={class:"flex"},_e={class:"px-4 py-4 sm:px-6 text-center text-gray-900"},ke={__name:"Index",props:{history:void 0,in_count:void 0,out_count:void 0,on_process:void 0,all_process:void 0},setup(b){var m;const i=b;N(()=>{g.reload({only:["history","in_count","out_count","on_process","all_process"]})}),R(()=>{clearInterval(h)});const h=setInterval(()=>{console.log("interval"),g.reload({only:["history","in_count","out_count","on_process","all_process"]})},1e4);function k(r){return M(r).format("DD MMM Y HH:mm")}function l(r){return(r/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}const w=S((m=JSON.parse(localStorage.getItem("tabHistory")))!=null?m:2);return V(w,r=>{console.log(`tab is ${r}`),localStorage.setItem("tabHistory",JSON.stringify(r))}),(r,j)=>(s(),H(I,{title:"Riwayat",name:"Riwayat",desc:"Riwayat transaksi kamu"},{default:v(()=>{var p,x;return[e("div",C,[e("div",null,[e("div",F,[e("div",E,[e("div",J,[L,e("div",q,[z,e("div",A,"Rp "+a(l((p=i.in_count)!=null?p:0)),1)])])]),e("div",K,[e("div",P,[Y,e("div",G,[Q,e("div",T,"Rp "+a(l((x=i.out_count)!=null?x:0)),1)])])])])])]),i.history===void 0?(s(),o("div",W,[(s(),o(d,null,_(4,f=>e("div",X,te)),64))])):(s(),o("div",se,[(s(!0),o(d,null,_(i.history,(f,B)=>(s(),o(d,null,[e("h3",ae,a(B),1),e("div",oe,[e("ul",re,[(s(!0),o(d,null,_(f,t=>(s(),o("li",{key:t.id},[u(y($),{"preserve-scroll":"",href:r.route("history.show",t.order_id),class:"block hover:bg-primary-50"},{default:v(()=>[e("div",de,[e("div",ne,[e("p",{class:c(["font-medium truncate uppercase",t.status_id==1||t.status_id==2?"text-primary-600":"text-gray-500"])},[n(a(t.product_name)+" ",1),t.virtual_account?(s(),o(d,{key:0},[n(a(t.virtual_account.bank),1)],64)):t.wallet_account?(s(),o(d,{key:1},[n(a(t.wallet_account.bank),1)],64)):t.money_transfer?(s(),o(d,{key:2},[t.user_id==r.$page.props.user.id?(s(),o(d,{key:0},[n(" ke "+a(t.money_transfer.to.name),1)],64)):(s(),o(d,{key:1},[n(" dari "+a(t.user.name),1)],64))],64)):U("",!0)],2),e("div",ie,[e("p",{class:c(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",t.color])},a(t.status),3)])]),e("div",le,[e("div",ce,[e("p",{class:c(["flex items-center text-sm",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},a(t.category_id==1||t.user_id!=r.$page.props.user.id?"+":"-")+" Rp "+a(t.category_id==1?l(t.amount):l(t.gross_amount)),3)]),e("div",{class:c(["flex items-center text-sm",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},a(k(t.created_at)),3)])])]),_:2},1032,["href"])]))),128))])])],64))),256)),e("div",_e,[u(y(O),{"animation-link":"https://lottie.host/847b8a44-3ca7-458b-a9b8-32c1c5d63308/ABskoUU2IH.json",height:200,width:200}),n(" Eits, udah mentok hehe ")])])),u(D)]}),_:1}))}};export{ke as default};
