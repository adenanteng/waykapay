import{_ as w}from"./AppLayout-530b8176.js";import{z as k,O as f,D as j,i as B,o as s,c as E,w as x,Q as R,a as e,g as i,t as a,e as n,F as o,h as p,b as u,n as _,f as V,u as g,m as D}from"./app-61f03d6b.js";import{_ as M}from"./MobileMenu-87de4b8e.js";import{h as U}from"./moment-fbc5633a.js";import{V as $}from"./vue3-lottie.es-bc2acbea.js";import{_ as N}from"./Badge-79ff8a5f.js";import{P,E as z}from"./echo-9a375d7c.js";import"./OnlineStatus-e040ce81.js";import"./index-de252311.js";import"./DarkmodeToggle-68918cd5.js";import"./helper-04030b53.js";import"./use-controllable-ec41a9ff.js";import"./vue3-otp-input.esm-f98c23eb.js";import"./DialogModal-fc6954da.js";import"./PrimaryButton-4fa843f0.js";import"./InputError-e1b2d35a.js";import"./BackgroundParticle-5e10e23f.js";import"./focus-management-06bcdf9f.js";const C={class:"col-span-1 divide-y divide-gray-300 dark:divide-gray-600 rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm shadow-lg border border-gray-300"},F={class:"flex w-full items-center justify-between space-x-6 p-6"},H={class:"flex-1 truncate"},I=e("p",{class:"mt-1 truncate text-sm text-gray-500"},"Bulan ini",-1),L={class:"truncate text-sm font-medium text-gray-900"},S=e("span",{class:"truncate text-xs text-gray-500"},"transaksi sukses",-1),O={class:"-mt-px flex divide-x divide-gray-300 dark:divide-gray-600"},T={class:"flex w-0 flex-1"},A={class:"relative -mr-px inline-flex w-0 flex-1 items-center justify-center rounded-bl-lg border border-transparent py-4"},K=e("i",{class:"fa-duotone fa-down text-primary-400"},null,-1),Q={class:"ml-3"},Y=e("div",{class:"text-xs text-gray-500"},"Uang Masuk",-1),q={class:"text-sm font-medium text-gray-700"},G={class:"-ml-px flex w-0 flex-1"},J={class:"relative inline-flex w-0 flex-1 items-center justify-center rounded-br-lg border border-transparent py-4"},W=e("i",{class:"fa-duotone fa-up text-amber-400"},null,-1),X={class:"ml-3"},Z=e("div",{class:"text-xs text-gray-500"},"Uang Keluar",-1),ee={class:"text-sm font-medium text-gray-700"},te={key:0,class:"animate-pulse rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm shadow-lg border border-gray-300 divide-y divide-gray-300"},se={class:"px-4 py-4 sm:px-6"},ae=e("div",{class:"flex items-center justify-between"},[e("p",{class:"bg-gray-300 text-gray-300 w-full rounded-3xl"},"a"),e("div",{class:"ml-2 flex-shrink-0 flex"},[e("p",{class:"px-2 bg-gray-300 text-gray-300 rounded-full w-20"},"b")])],-1),ne=e("div",{class:"sm:flex sm:justify-between"},[e("p",{class:"flex items-center bg-gray-300 text-gray-300 w-1/2 rounded-3xl"},"c")],-1),oe=[ae,ne],ie={key:1,class:""},re={class:"text-sm text-gray-500 font-medium ml-5 mt-5 mb-1 flex items-center"},le={class:"rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm overflow-hidden shadow-lg border border-gray-300"},de={role:"list",class:"divide-y divide-gray-300 dark:divide-gray-600"},ce={class:"px-4 py-4 sm:px-6"},ue={class:"flex items-center justify-between"},_e={class:"ml-2 flex-shrink-0 flex"},me={class:"flex justify-between"},pe={class:"flex"},fe={class:"px-4 py-4 sm:px-6 text-center text-gray-900 text-sm"},Pe={__name:"Index",props:{history:void 0,in_count:void 0,out_count:void 0,all_process:void 0},setup(h){const d=h;k(()=>{f.reload({only:["history","in_count","out_count","all_process"]})}),j(()=>{window.Echo.leave("transaction-channel")});function y(r){return U(r).format("DD MMM Y HH:mm")}function c(r){return(r/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}const{...v}=B(()=>R().props.user).value;return typeof window<"u"&&(window.Pusher=P,window.Echo=new z({broadcaster:"pusher",key:"e4c42e8e3951c6ee37f6",cluster:"ap1",forceTLS:!0}),window.Echo.channel("transaction-channel").listen(".transaction-event",function(l){l.action==="reload"&&l.user===v.slug?(f.reload({only:["history","in_count","out_count","all_process"]}),console.log(l.action,l.user)):console.log(l)})),(r,l)=>(s(),E(w,{title:"Riwayat",name:"Riwayat",desc:"Riwayat transaksi kamu"},{default:x(()=>[e("div",C,[e("div",F,[e("div",H,[I,e("h3",L,[i(a(d.all_process)+" ",1),S])])]),e("div",null,[e("div",O,[e("div",T,[e("div",A,[K,e("div",Q,[Y,e("div",q,"Rp "+a(c(d.in_count??0)),1)])])]),e("div",G,[e("div",J,[W,e("div",X,[Z,e("div",ee,"Rp "+a(c(d.out_count??0)),1)])])])])])]),d.history===void 0?(s(),n("div",te,[(s(),n(o,null,p(6,m=>e("div",se,oe)),64))])):(s(),n("div",ie,[(s(!0),n(o,null,p(d.history,(m,b)=>(s(),n(o,null,[e("h3",re,[i(a(b)+" ",1),u(N,{name:m.length+" transaksi",class:"ml-3 text-xs text-primary-600 bg-primary-100"},null,8,["name"])]),e("div",le,[e("ul",de,[(s(!0),n(o,null,p(m,t=>(s(),n("li",{key:t.id},[u(g(D),{href:r.route("history.show",t.order_id),class:"block hover:bg-primary-50"},{default:x(()=>[e("div",ce,[e("div",ue,[e("p",{class:_(["text-sm font-medium truncate capitalize",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},[i(a(t.product_name)+" ",1),t.virtual_account?(s(),n(o,{key:0},[i(a(t.virtual_account.bank),1)],64)):t.wallet_account?(s(),n(o,{key:1},[i(a(t.wallet_account.bank),1)],64)):t.offline_account?(s(),n(o,{key:2},[i(a(t.offline_account.bank),1)],64)):t.manual_account?(s(),n(o,{key:3},[i(a(t.manual_account.bank),1)],64)):t.money_transfer?(s(),n(o,{key:4},[t.user_id==r.$page.props.user.id?(s(),n(o,{key:0},[i(" ke "+a(t.money_transfer.to.name),1)],64)):(s(),n(o,{key:1},[i(" dari "+a(t.user.name),1)],64))],64)):V("",!0)],2),e("div",_e,[e("p",{class:_(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",t.color])},a(t.status),3)])]),e("div",me,[e("div",pe,[e("p",{class:_(["flex items-center text-xs",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},a(t.category_id==1||t.user_id!=r.$page.props.user.id?"+":"-")+" Rp "+a(t.category_id==1?c(t.amount):c(t.gross_amount)),3)]),e("div",{class:_(["flex items-center text-xs",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},a(y(t.created_at)),3)])])]),_:2},1032,["href"])]))),128))])])],64))),256)),e("div",fe,[u(g($),{"animation-link":"https://lottie.host/847b8a44-3ca7-458b-a9b8-32c1c5d63308/ABskoUU2IH.json",height:200,width:200}),i(" Eits, udah mentok hehe ")])])),u(M)]),_:1}))}};export{Pe as default};
