import{_ as M}from"./AppLayout-06dbcbab.js";import{z as V,d as u,s as B,o as r,c as N,w as v,a as t,t as s,b as m,u as f,G as b,e as l,h as j,n as x,g as p,F as n,f as C,m as T,O as Y}from"./app-4890f661.js";import{h as $}from"./moment-fbc5633a.js";import{_ as L}from"./TextInput-44a8811d.js";import{_ as O}from"./Pagination-31bc4e05.js";import{_ as R}from"./SelectInput-d6b66cb8.js";import{G as z}from"./vue-tailwind-datepicker-612735a6.js";import"./OnlineStatus-651e4574.js";import"./index-f4a7a3a6.js";import"./DarkmodeToggle-62aefa81.js";import"./use-controllable-c4df05d1.js";import"./focus-management-abb5ddb9.js";const D={class:"col-span-1 divide-y divide-gray-300 dark:divide-gray-600 rounded-3xl bg-white bg-opacity-50 shadow-lg border border-gray-300"},F={class:"flex w-full items-center justify-between space-x-6 p-6"},G={class:"flex-1 truncate"},H=t("div",{class:"flex items-center space-x-3"},[t("h3",{class:"truncate text-sm text-gray-600"},"Laba")],-1),S={class:"mt-1 truncate text-sm font-medium text-gray-900"},U=t("i",{class:"fa-duotone fa-money-bill-1-wave text-green-600 text-3xl flex-shrink-0"},null,-1),E={class:"-mt-px flex divide-x divide-gray-300 dark:divide-gray-600"},I={class:"flex w-0 flex-1"},K={class:"relative -mr-px inline-flex w-0 flex-1 items-center justify-center rounded-bl-lg border border-transparent py-4"},P={class:"ml-3 text-center"},q=t("div",{class:"text-xs text-gray-500"},"Transaksi",-1),A={class:"text-sm font-medium text-gray-700"},J={class:""},Q={class:"w-full"},W={class:"grid lg:flex space-y-5 lg:space-y-0 lg:gap-3"},X={class:"w-full"},Z={class:"w-full"},ee={class:""},te={class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},ae={role:"list",class:"divide-y divide-gray-300 dark:divide-gray-600"},se={class:"px-4 py-4 sm:px-6"},oe={class:"flex items-center justify-between"},re={class:"ml-2 flex-shrink-0 flex"},le={class:"flex justify-between"},ie={class:"flex"},ye={__name:"Index",props:{transaction:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},gross_amount:Number,agent_commission:Number,transaction_count:Number},setup(y){const i=y;V(()=>{});let d=u(i.filters.search),c=u(i.filters.filter);const g=u([]);B([d,c,g],([a,o,e])=>{Y.get(route("report.index"),{search:a,filter:o,date_start:e?e[0]:null,date_end:e?e[1]:null},{preserveState:!0,replace:!0})});const k=u({date:"YYYY-MM-DD",month:"MMM"}),h=u({shortcuts:{today:"Hari ini",yesterday:"Kemarin",past:a=>a+" hari terakhir",currentMonth:"Bulan ini",pastMonth:"Bulan lalu"},footer:{apply:"Terapkan",cancel:"Batal"}});function w(a){return $(a).format("DD MMM Y HH:mm")}function _(a){return(a/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return(a,o)=>(r(),N(M,{title:"Laporan Transaksi",name:"Laporan Transaksi",desc:"Riwayat transaksi kamu"},{default:v(()=>[t("div",D,[t("div",F,[t("div",G,[H,t("p",S,"Rp "+s(_(Number(i.agent_commission))),1)]),U]),t("div",null,[t("div",E,[t("div",I,[t("div",K,[t("div",P,[q,t("div",A,s(_(i.transaction_count)),1)])])])])])]),t("div",J,[t("div",Q,[m(L,{type:"text",modelValue:f(d),"onUpdate:modelValue":o[0]||(o[0]=e=>b(d)?d.value=e:d=e),placeholder:"Cari disini",class:"block w-full lg:w-96 shadow"},null,8,["modelValue"])])]),t("div",W,[t("div",X,[m(f(z),{modelValue:g.value,"onUpdate:modelValue":o[1]||(o[1]=e=>g.value=e),"input-classes":"bg-white text-black border border-gray-300 focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 rounded-3xl shadow-sm rounded-full",options:h.value,formatter:k.value,placeholder:"Bulan",separator:" - ","use-range":"","as-single":"",i18n:"id"},null,8,["modelValue","options","formatter"])]),t("div",Z,[m(R,{"model-value":f(c),"onUpdate:modelValue":o[2]||(o[2]=e=>b(c)?c.value=e:c=e),"model-valueModifiers":{number:!0},option:a.$page.props.selectCategory,class:"block w-full shadow"},null,8,["model-value","option"])])]),t("div",ee,[t("div",te,[t("ul",ae,[(r(!0),l(n,null,j(i.transaction.data,e=>(r(),l("li",{key:e.id},[m(f(T),{href:a.route("history.show",e.order_id),class:"block hover:bg-primary-50"},{default:v(()=>[t("div",se,[t("div",oe,[t("p",{class:x(["text-sm font-medium truncate capitalize",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},[p(s(e.product_name)+" ",1),e.virtual_account?(r(),l(n,{key:0},[p(s(e.virtual_account.bank),1)],64)):e.wallet_account?(r(),l(n,{key:1},[p(s(e.wallet_account.bank),1)],64)):e.money_transfer?(r(),l(n,{key:2},[e.user_id==a.$page.props.user.id?(r(),l(n,{key:0},[p(" ke "+s(e.money_transfer.to.name),1)],64)):(r(),l(n,{key:1},[p(" dari "+s(e.user.name),1)],64))],64)):C("",!0)],2),t("div",re,[t("p",{class:x(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",e.color])},s(e.status),3)])]),t("div",le,[t("div",ie,[t("p",{class:x(["flex items-center text-xs",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},s(e.category_id==1||e.user_id!=a.$page.props.user.id?"+":"-")+" Rp "+s(e.category_id==1?_(e.amount):_(e.gross_amount)),3)]),t("div",{class:x(["flex items-center text-xs",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},s(w(e.created_at)),3)])])]),_:2},1032,["href"])]))),128))])])]),m(O,{pagination:i.transaction},null,8,["pagination"])]),_:1}))}};export{ye as default};
