import{v as E,d as h,c as w,w as n,o as p,g as r,e as C,a as s,b as a,D as _,E as k,L as N,B as g,f as b,u as o,j,n as z,O as T}from"./app.db06b18a.js";import{_ as A}from"./ActionMessage.56e47217.js";import{_ as D}from"./FormSection.2bb25889.js";import{_ as d}from"./InputError.29e93e0d.js";import{_ as f}from"./InputLabel.8dc4ce59.js";import{_ as F}from"./PrimaryButton.423be53e.js";import{_ as S}from"./SecondaryButton.72ebe50f.js";import{_ as y}from"./TextInput.b9da93b3.js";import"./SectionTitle.e2266bb0.js";import"./_plugin-vue_export-helper.cdc0426e.js";const L={key:0,class:"col-span-6 sm:col-span-4"},O={class:"mt-2"},R=["src","alt"],H={class:"mt-2"},K={class:"col-span-6 sm:col-span-4"},M={class:"col-span-6 sm:col-span-4"},q={class:"col-span-6 sm:col-span-4"},G={key:0},J={class:"text-sm mt-2"},Q={class:"mt-2 font-medium text-sm text-green-600"},ne={__name:"UpdateProfileInformationForm",props:{user:Object},setup(u){const v=u,e=E({_method:"PUT",name:v.user.name,email:v.user.email,phone:v.user.phone,photo:null}),P=h(null),c=h(null),i=h(null),$=()=>{i.value&&(e.photo=i.value.files[0]),e.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>V()})},x=()=>{P.value=!0},B=()=>{i.value.click()},I=()=>{const t=i.value.files[0];if(!t)return;const l=new FileReader;l.onload=m=>{c.value=m.target.result},l.readAsDataURL(t)},U=()=>{T.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{c.value=null,V()}})},V=()=>{var t;(t=i.value)!=null&&t.value&&(i.value.value=null)};return(t,l)=>(p(),w(D,{onSubmitted:$},{title:n(()=>[r(" Informasi Profil ")]),description:n(()=>[r(" Perbarui informasi profil akun dan alamat email kamu. ")]),form:n(()=>[t.$page.props.jetstream.managesProfilePhotos?(p(),C("div",L,[s("input",{ref_key:"photoInput",ref:i,type:"file",class:"hidden",onChange:I},null,544),a(f,{for:"photo",value:"Photo"}),_(s("div",O,[s("img",{src:u.user.profile_photo_url,alt:u.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,R)],512),[[k,!c.value]]),_(s("div",H,[s("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:N("background-image: url('"+c.value+"');")},null,4)],512),[[k,c.value]]),a(S,{class:"mt-2 mr-2",type:"button",onClick:g(B,["prevent"])},{default:n(()=>[r(" Ubah Avatar ")]),_:1},8,["onClick"]),u.user.profile_photo_path?(p(),w(S,{key:0,type:"button",class:"mt-2",onClick:g(U,["prevent"])},{default:n(()=>[r(" Hapus Avatar ")]),_:1},8,["onClick"])):b("",!0),a(d,{message:o(e).errors.photo,class:"mt-2"},null,8,["message"])])):b("",!0),s("div",K,[a(f,{for:"name",value:"Nama"}),a(y,{id:"name",modelValue:o(e).name,"onUpdate:modelValue":l[0]||(l[0]=m=>o(e).name=m),type:"text",class:"mt-1 block w-full capitalize",autocomplete:"name"},null,8,["modelValue"]),a(d,{message:o(e).errors.name,class:"mt-2"},null,8,["message"])]),s("div",M,[a(f,{for:"phone",value:"Telepon"}),a(y,{id:"phone",modelValue:o(e).phone,"onUpdate:modelValue":l[1]||(l[1]=m=>o(e).phone=m),type:"tel",class:"mt-1 block w-full capitalize"},null,8,["modelValue"]),a(d,{message:o(e).errors.phone,class:"mt-2"},null,8,["message"])]),s("div",q,[a(f,{for:"email",value:"Email"}),a(y,{id:"email",modelValue:o(e).email,"onUpdate:modelValue":l[2]||(l[2]=m=>o(e).email=m),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"]),a(d,{message:o(e).errors.email,class:"mt-2"},null,8,["message"]),t.$page.props.jetstream.hasEmailVerification&&u.user.email_verified_at===null?(p(),C("div",G,[s("p",J,[r(" Email belum diverifikasi. "),a(o(j),{href:t.route("verification.send"),method:"post",as:"button",class:"underline text-gray-600 hover:text-gray-900",onClick:g(x,["prevent"])},{default:n(()=>[r(" Klik di sini untuk mengirim ulang email verifikasi. ")]),_:1},8,["href","onClick"])]),_(s("div",Q," Tautan verifikasi baru telah dikirim ke alamat email kamu. ",512),[[k,P.value]])])):b("",!0)])]),actions:n(()=>[a(A,{on:o(e).recentlySuccessful,class:"mr-3"},{default:n(()=>[r(" Berhasil disimpan. ")]),_:1},8,["on"]),a(F,{class:z({"opacity-25":o(e).processing}),disabled:o(e).processing},{default:n(()=>[r(" Simpan ")]),_:1},8,["class","disabled"])]),_:1}))}};export{ne as default};
