import{_ as H}from"./AppLayout-0fu1aiVO.js";import{z as h,d as u,O as M,p as L,o as s,c as Y,w as V,a as t,b as m,u as d,H as b,e as l,F as i,h as C,n as y,g as n,t as r,f as D,j as N}from"./app-DgIULqOi.js";import{h as z}from"./moment-Cl4UOzQZ.js";import{_ as F}from"./TextInput-BivehQTf.js";import{_ as B}from"./SelectInput-BvrEZzEJ.js";import{q as O}from"./vue-tailwind-datepicker-CBg_oTai.js";import{V as P}from"./vue3-lottie.es-Bwjbni0J.js";import"./OnlineStatus-CuEC_upm.js";import"./DarkmodeToggle-rascVFHl.js";import"./helper-Dp3OpoYX.js";import"./form-DaQSsyT8.js";import"./use-resolve-button-type-D8ufVdEO.js";import"./vue3-otp-input.esm-5lS850ee.js";import"./DialogModal-C3soLzl0.js";import"./PrimaryButton-J-MRfqeH.js";import"./InputError-CmaCLc0t.js";import"./BackgroundParticle-DG9e4c3q.js";import"./calculate-active-index-BRoacDnO.js";import"./focus-management-C0buzZrg.js";const q={class:""},A={class:"w-full"},E={class:"grid lg:flex space-y-5 lg:space-y-0 lg:gap-3"},R={class:"w-full"},T={class:"grid grid-cols-2 gap-2 w-full"},I={key:0,class:"animate-pulse rounded-3xl bg-white shadow-lg border border-gray-300 divide-y divide-gray-300"},K={class:"px-4 py-4 sm:px-6"},G=t("div",{class:"flex items-center justify-between"},[t("p",{class:"bg-gray-300 text-gray-300 w-full rounded-3xl"},"a"),t("div",{class:"ml-2 flex-shrink-0 flex"},[t("p",{class:"px-2 bg-gray-300 text-gray-300 rounded-full w-20"},"b")])],-1),J=t("div",{class:"mt-2 sm:flex sm:justify-between"},[t("p",{class:"flex items-center bg-gray-300 text-gray-300 w-1/2 rounded-3xl"},"c")],-1),Q=[G,J],W={key:1,class:""},X={class:"rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm overflow-hidden shadow-lg border border-gray-300"},Z={role:"list",class:"divide-y divide-gray-300 dark:divide-gray-600"},ee={class:"px-4 py-4 sm:px-6"},te={class:"flex items-center justify-between"},ae={class:"ml-2 flex-shrink-0 flex"},se={class:"flex justify-between"},le={class:"flex"},oe={class:""},re={class:"text-sm text-center text-gray-600 mb-5"},ne=t("i",{class:"fa-regular fa-angle-down animate-bounce mt-1"},null,-1),ie={key:1,class:"px-4 py-4 sm:px-6 text-center text-gray-900 text-sm"},je={__name:"Detail",props:{transaction:void 0,filters:{type:Object,default:()=>({})}},setup(j){const c=j;h(()=>{});let f=u(c.filters.search),g=u(c.filters.filterStatus),_=u(c.filters.filterCategory),p=u(c.filters.filterPaginate??20);const k=u([]);h(()=>{M.reload({only:["transaction","transactionCount","filters"]})}),L([f,g,_,p,k],([a,o,e,x,v])=>{M.get(route("report.detail"),{search:a,filter_status:o,filter_category:e,filter_paginate:x,date_start:v?v[0]:null,date_end:v?v[1]:null},{preserveState:!0,preserveScroll:!0,replace:!0,only:["transaction","transactionCount","filters"]})});const S=u({date:"YYYY-MM-DD",month:"MMM"}),$=u({shortcuts:{today:"Hari ini",yesterday:"Kemarin",past:a=>a+" hari terakhir",currentMonth:"Bulan ini",pastMonth:"Bulan lalu"},footer:{apply:"Terapkan",cancel:"Batal"}});function U(a){return z(a).format("DD MMM Y HH:mm")}function w(a){return(a/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return(a,o)=>(s(),Y(H,{title:"Laporan",name:"Laporan",desc:"Laporan transaksi kamu"},{default:V(()=>[t("div",q,[t("div",A,[m(F,{type:"text",modelValue:d(f),"onUpdate:modelValue":o[0]||(o[0]=e=>b(f)?f.value=e:f=e),placeholder:"Cari disini",class:"block w-full lg:w-96 shadow"},null,8,["modelValue"])])]),t("div",E,[t("div",R,[m(d(O),{modelValue:k.value,"onUpdate:modelValue":o[1]||(o[1]=e=>k.value=e),"input-classes":"bg-white text-black border border-gray-300 focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 rounded-3xl shadow-sm rounded-full",options:$.value,formatter:S.value,placeholder:"Bulan",separator:" - ","use-range":"","as-single":"",i18n:"id"},null,8,["modelValue","options","formatter"])]),t("div",T,[m(B,{"model-value":d(g),"onUpdate:modelValue":o[2]||(o[2]=e=>b(g)?g.value=e:g=e),"model-valueModifiers":{number:!0},option:a.$page.props.selectStatus,class:"block w-full shadow"},null,8,["model-value","option"]),m(B,{"model-value":d(_),"onUpdate:modelValue":o[3]||(o[3]=e=>b(_)?_.value=e:_=e),"model-valueModifiers":{number:!0},option:a.$page.props.selectCategory,class:"block w-full shadow"},null,8,["model-value","option"])])]),c.transaction===void 0?(s(),l("div",I,[(s(),l(i,null,C(4,e=>t("div",K,Q)),64))])):(s(),l("div",W,[t("div",X,[t("ul",Z,[(s(!0),l(i,null,C(c.transaction.data,e=>(s(),l("li",{key:e.id},[m(d(N),{href:a.route("history.show",e.order_id),class:"block hover:bg-primary-50"},{default:V(()=>{var x;return[t("div",ee,[t("div",te,[t("p",{class:y(["text-sm font-medium truncate capitalize",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},[n(r(e.product_name.replaceAll("-"," "))+" ",1),e.virtual_account?(s(),l(i,{key:0},[n(r(e.virtual_account.bank),1)],64)):e.wallet_account?(s(),l(i,{key:1},[n(r(e.wallet_account.bank),1)],64)):e.offline_account?(s(),l(i,{key:2},[n(r(e.offline_account.bank),1)],64)):e.manual_account?(s(),l(i,{key:3},[n(r(e.manual_account.bank),1)],64)):e.money_transfer?(s(),l(i,{key:4},[e.user_id==a.$page.props.user.id?(s(),l(i,{key:0},[n(" ke "+r((x=e.money_transfer)==null?void 0:x.to_name),1)],64)):(s(),l(i,{key:1},[n(" dari "+r(e.user.name),1)],64))],64)):D("",!0)],2),t("div",ae,[t("p",{class:y(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",e.color])},r(e.status),3)])]),t("div",se,[t("div",le,[t("p",{class:y(["flex items-center text-xs",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},r(e.category_id==1||e.user_id!=a.$page.props.user.id?"+":"-")+" Rp "+r(e.category_id==1?w(e.amount):w(e.gross_amount)),3)]),t("div",{class:y(["flex items-center text-xs",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},r(U(e.created_at)),3)])])]}),_:2},1032,["href"])]))),128))])])])),t("div",oe,[t("div",re,[n(" Menampilkan "),t("strong",null,r(d(p)),1),n(" dari "),t("strong",null,r(a.$page.props.transactionCount),1),n(" hasil ")]),d(p)<=a.$page.props.transactionCount?(s(),l("button",{key:0,class:"w-full grid text-gray-900 font-medium",onClick:o[4]||(o[4]=e=>b(p)?p.value+=20:p+=20)},[n(" Selanjutnya "),ne])):(s(),l("div",ie,[m(d(P),{"animation-link":"https://lottie.host/847b8a44-3ca7-458b-a9b8-32c1c5d63308/ABskoUU2IH.json",height:200,width:200}),n(" Eits, udah mentok hehe ")]))])]),_:1}))}};export{je as default};
