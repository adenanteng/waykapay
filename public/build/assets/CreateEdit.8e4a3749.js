import{_ as w}from"./AppLayout.b268b30b.js";import{T,i as C,c as g,w as o,o as c,b as a,g as n,t,a as s,e as m,f as b,h as P,F as v,n as R,u as y,Q as j}from"./app.4a9e849d.js";import{_ as I}from"./PreviousButton.dc8a3b5b.js";import{_ as V}from"./FormSection.d061cb71.js";import{_ as F}from"./ActionMessage.5386eb2f.js";import{_ as h}from"./PrimaryButton.a7f1dbb7.js";import{_ as r}from"./InputLabel.d92e0d4e.js";import"./Banner.0e5a49fd.js";import"./DarkmodeToggle.17e3c3b1.js";import"./helper.e9fc3b37.js";import"./label.21249622.js";import"./index.c2f30af5.js";import"./focus-management.66e905ff.js";import"./SectionTitle.8e44e605.js";import"./_plugin-vue_export-helper.cdc0426e.js";const M={class:"col-span-6 sm:col-span-3"},z={class:"font-semibold text-gray-900"},E={class:"col-span-6 sm:col-span-3"},L={class:"font-semibold text-gray-900"},O={key:0,class:"col-span-6 sm:col-span-3"},A={class:"font-semibold text-gray-900"},D={class:"col-span-6 sm:col-span-3"},H={class:"font-semibold text-gray-900"},Q={class:"col-span-6 sm:col-span-3"},q={class:"font-semibold text-gray-900"},G={class:"col-span-6 sm:col-span-3"},J={class:"font-semibold text-gray-900"},K={class:"col-span-6 sm:col-span-3"},U={class:"font-semibold text-gray-900"},W={class:"col-span-6 sm:col-span-3"},X={class:"font-semibold text-gray-900"},Y={class:"grid"},pe={__name:"CreateEdit",props:{users:Object,customer:Object},setup(k){var u;const e=k,l=T({user_id:(u=e.users.id)!=null?u:null,order_id:e.customer.data.ref_id,customer_no:e.customer.data.customer_no,product_name:e.customer.data.customer_name,sku:e.customer.data.buyer_sku_code,admin:e.customer.data.admin,price:e.customer.data.price,selling_price:e.customer.data.selling_price}),{...x}=C(()=>j().props.user).value,B=()=>{x.pin?l.post(route("pin.topupPasca"),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>closeModal()}):l.post(route("product.topup.pasca"),{errorBag:"storeInformation",preserveScroll:!0,replace:!0})};function d(i){return(i/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return(i,N)=>(c(),g(w,{title:e.customer.data.buyer_sku_code,name:e.customer.data.buyer_sku_code,desc:"Masukkan nomor"},{previous:o(()=>[a(I)]),default:o(()=>[a(V,{class:"sticky top-0 z-40"},{title:o(()=>[n(t(e.customer.data.buyer_sku_code),1)]),description:o(()=>[n(" * Saldo Rekening Rp "+t(d(i.$page.props.user.wallet_balance)),1)]),form:o(()=>{var _,p,f;return[s("div",M,[a(r,{for:"number",value:"No. Pelanggan"}),s("div",z,t(e.customer.data.customer_no),1)]),s("div",E,[a(r,{for:"number",value:"Nama Pelanggan"}),s("div",L,t(e.customer.data.customer_name),1)]),(_=e.customer.data.desc)!=null&&_.tarif?(c(),m("div",O,[a(r,{for:"number",value:"Stand Meter"}),s("div",A,t(e.customer.data.desc.tarif)+" "+t((p=e.customer.data.desc.daya)!=null?p:" "),1)])):b("",!0),s("div",D,[a(r,{for:"number",value:"Lembar Tagihan"}),s("div",H,t(e.customer.data.desc.lembar_tagihan),1)]),(f=e.customer.data.desc)!=null&&f.detail?(c(!0),m(v,{key:1},P(e.customer.data.desc.detail,($,S)=>(c(),m("div",Q,[a(r,{for:"number",value:"Periode "+Number(S+1)},null,8,["value"]),s("div",q,t($.periode),1)]))),256)):b("",!0),s("div",G,[a(r,{for:"number",value:"Harga"}),s("div",J," Rp "+t(d(e.customer.data.price)),1)]),s("div",K,[a(r,{for:"number",value:"Biaya Admin"}),s("div",U," Rp "+t(d(e.customer.data.admin)),1)]),s("div",W,[a(r,{for:"number",value:"Total"}),s("div",X," Rp "+t(d(e.customer.data.selling_price)),1)])]}),_:1}),s("div",Y,[Number(e.customer.data.buyer_last_saldo)>=Number(e.customer.data.selling_price)?(c(),m(v,{key:0},[a(h,{class:R(["w-full justify-center",{"opacity-25":y(l).processing}]),disabled:y(l).processing||i.$page.props.user.wallet_balance<=e.customer.data.selling_price,onClick:B},{default:o(()=>[n(" Bayar ")]),_:1},8,["class","disabled"]),a(F,{on:i.$page.props.user.wallet_balance<=e.customer.data.selling_price,class:"mr-3"},{default:o(()=>[n(" Saldo anda kurang ")]),_:1},8,["on"])],64)):(c(),g(h,{key:1,class:"w-full justify-center",disabled:""},{default:o(()=>[n(" Tidak Tersedia ")]),_:1}))])]),_:1},8,["title","name"]))}};export{pe as default};
