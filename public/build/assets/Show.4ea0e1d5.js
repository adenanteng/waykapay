import{v as B,c as N,w as r,o as e,b as a,e as i,a as s,t as o,f as d,F as y,u as l,S as v,B as S,g as h,n as R,U as $}from"./app.d8ef1a13.js";import{_ as K}from"./AppLayout.92bdd494.js";import{h as C}from"./moment.9709ab41.js";import{_ as T}from"./PreviousButton.e6cd6615.js";import{e as g}from"./popper.esm.a0f3c9c4.js";import{A as u}from"./ApplicationLogo.224fe5e2.js";import{_ as V}from"./InputLabel.288b5a90.js";import{_ as A}from"./TextInput.5d6def74.js";import{_ as D}from"./InputError.733e15c9.js";import{_ as k}from"./PrimaryButton.5377a27f.js";import{_ as M}from"./ActionMessage.12fefbe3.js";import{_ as P}from"./SecondaryButton.f3978c67.js";import"./Banner.d589c090.js";import"./DarkmodeToggle.e7ec0c67.js";import"./helper.e9fc3b37.js";import"./label.a2772c9e.js";import"./focus-management.7efcdfeb.js";import"./_plugin-vue_export-helper.cdc0426e.js";const I={id:"printMe",class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},F={class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},H=s("h3",{class:"mt-1 text-lg font-bold leading-6 text-gray-900"},"Transaksi Berhasil",-1),q={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},O={class:"grid grid-cols-1 gap-x-4 gap-y-2 sm:gap-y-8 sm:grid-cols-2 text-gray-900"},Q={class:"sm:col-span-1 flex sm:block justify-between"},U=s("div",{class:"text-sm"},"Tanggal",-1),z={class:"text-sm font-semibold"},E={class:"sm:col-span-1 flex sm:block justify-between"},J=s("div",{class:"text-sm"},"No. Referensi",-1),L={class:"text-sm font-semibold"},Y=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),G={key:0,class:"sm:col-span-1 flex sm:block justify-between"},W=s("div",{class:"text-sm"},"Kategori",-1),X={class:"text-sm font-semibold"},Z={key:1,class:"sm:col-span-1 flex sm:block justify-between"},ss=s("div",{class:"text-sm"},"Sumber Dana",-1),ts={key:0,class:"text-sm font-semibold uppercase"},os={key:1,class:"text-sm font-semibold uppercase"},es={key:2,class:"sm:col-span-1 flex sm:block justify-between"},is=s("div",{class:"text-sm"},"Produk",-1),as={class:"text-sm font-semibold uppercase"},ds={key:3,class:"sm:col-span-1 flex sm:block justify-between"},cs=s("div",{class:"text-sm"},"No. Kustomer",-1),ls={class:"text-sm font-semibold"},ns={class:"sm:col-span-1 flex sm:block justify-between"},rs=s("div",{class:"text-sm"},"Nama Kustomer",-1),_s={class:"text-sm font-semibold"},ms={class:"sm:col-span-1 flex sm:block justify-between"},hs=s("div",{class:"text-sm"},"Stroom",-1),ys={class:"text-sm font-bold"},bs={key:5,class:"sm:col-span-2 flex sm:block justify-between"},us=s("div",{class:"text-sm"},"Keterangan",-1),fs={class:"text-sm font-semibold"},ps=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),xs={class:"sm:col-span-1 flex sm:block justify-between"},vs=s("div",{class:"text-sm"},"Nominal",-1),gs={class:"text-sm font-semibold"},ks={class:"sm:col-span-1 flex sm:block justify-between"},ws=s("div",{class:"text-sm"},"Biaya Admin",-1),js={class:"text-sm font-semibold"},Bs={key:6,class:"sm:col-span-1 flex sm:block justify-between"},Ns=s("div",{class:"text-sm"},"Komisi",-1),Ss={class:"text-sm font-semibold"},Rs=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),$s={class:"sm:col-span-1 flex sm:block justify-between"},Ks=s("div",{class:"text-sm font-bold"},"Total",-1),Cs={class:"text-sm font-bold"},Ts={key:0,class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},Vs=s("div",{class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},[s("h3",{class:"mt-1 text-lg font-bold leading-6 text-gray-900"},"Komisi Agen")],-1),As={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},Ds=["onSubmit"],Ms={class:"grid grid-cols-6"},Ps={class:"col-span-6 sm:col-span-3"},Is={class:"flex"},Fs=s("span",{class:"flex items-center bg-white text-black border border-gray-300 border-r-0 rounded-3xl rounded-r-none shadow-sm mt-1 px-3"}," Rp ",-1),Hs={class:"col-span-6 mt-3 flex justify-between items-center"},qs={class:"flex justify-center gap-2"},Os=s("div",{class:"pb-80 lg:pb-0"},null,-1),Qs={key:1,class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},Us={class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},zs=s("h3",{class:"mt-1 text-lg font-bold leading-6 text-gray-900"},"Transaksi Pending",-1),Es={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},Js={class:"grid grid-cols-1 gap-x-4 gap-y-2 sm:gap-y-8 sm:grid-cols-2 text-gray-900"},Ls={class:"sm:col-span-1 flex sm:block justify-between"},Ys=s("div",{class:"text-sm"},"Bank",-1),Gs={class:"text-sm font-semibold uppercase"},Ws={class:"sm:col-span-1 flex sm:block justify-between"},Xs=s("div",{class:"text-sm"},"No. Virtual Account",-1),Zs={class:"text-sm font-semibold"},st=s("i",{class:"fa-duotone fa-paste ml-2"},null,-1),tt=[st],ot={class:"sm:col-span-1 flex sm:block justify-between"},et=s("div",{class:"text-sm"},"Cara bayar",-1),it={class:"text-sm font-semibold text-primary-600 underline"},at=["href"],dt={class:"sm:col-span-1 flex sm:block justify-between"},ct=s("div",{class:"text-sm"},"Metode Pembayaran",-1),lt={class:"text-sm font-semibold uppercase"},nt={class:"sm:col-span-2 flex flex-col items-center my-5 gap-3"},rt=s("div",{class:"text-sm"},[s("img",{src:"/img/vendor/QRIS.svg",class:"h-8 w-auto",alt:"QRIS"})],-1),_t={class:"text-sm"},mt={class:"sm:col-span-1 flex sm:block justify-between"},ht=s("div",{class:"text-sm"},"Deeplink",-1),yt={class:"text-sm font-semibold text-primary-600 underline"},bt=["href"],ut=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),ft={class:"sm:col-span-1 flex sm:block justify-between"},pt=s("div",{class:"text-sm"},"Nominal",-1),xt={class:"text-sm font-semibold"},vt={class:"sm:col-span-1 flex sm:block justify-between"},gt=s("div",{class:"text-sm"},"Biaya Admin",-1),kt={class:"text-sm font-semibold"},wt={class:"sm:col-span-1 flex sm:block justify-between"},jt=s("div",{class:"text-sm"},"Total",-1),Bt={class:"text-sm font-semibold"},Nt={key:2,class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},St={class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},Rt={class:"mt-1 text-lg font-bold leading-6 text-gray-900"},$t={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},Kt={class:"grid grid-cols-1 gap-x-4 gap-y-2 sm:gap-y-8 sm:grid-cols-2 text-gray-900"},Ct={class:"sm:col-span-1 flex sm:block justify-between"},Tt=s("div",{class:"text-sm"},"Tanggal",-1),Vt={class:"text-sm font-semibold"},At={class:"sm:col-span-1 flex sm:block justify-between"},Dt=s("div",{class:"text-sm"},"No. Referensi",-1),Mt={class:"text-sm font-semibold"},Pt=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),It={class:"sm:col-span-1 flex sm:block justify-between"},Ft=s("div",{class:"text-sm"},"Kategori",-1),Ht={class:"text-sm font-semibold"},qt={key:0,class:"sm:col-span-1 flex sm:block justify-between"},Ot=s("div",{class:"text-sm"},"Sumber Dana",-1),Qt={key:0,class:"text-sm font-semibold uppercase"},Ut={key:1,class:"text-sm font-semibold uppercase"},zt={key:1,class:"sm:col-span-1 flex sm:block justify-between"},Et=s("div",{class:"text-sm"},"Produk",-1),Jt={class:"text-sm font-semibold"},Lt={key:2,class:"sm:col-span-1 flex sm:block justify-between"},Yt=s("div",{class:"text-sm"},"No. Kustomer",-1),Gt={class:"text-sm font-semibold"},Wt={class:"sm:col-span-2 flex sm:block justify-between"},Xt=s("div",{class:"text-sm"},"Keterangan",-1),Zt={class:"text-sm font-semibold"},so=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),to={class:"sm:col-span-1 flex sm:block justify-between"},oo=s("div",{class:"text-sm"},"Nominal",-1),eo={class:"text-sm font-semibold"},io={class:"sm:col-span-1 flex sm:block justify-between"},ao=s("div",{class:"text-sm"},"Biaya Admin",-1),co={class:"text-sm font-semibold"},lo=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),no={class:"sm:col-span-1 flex sm:block justify-between"},ro=s("div",{class:"text-sm font-bold"},"Total",-1),_o={class:"text-sm font-bold"},Ko={__name:"Show",props:{users:Object,history:Object},setup(w){const t=w,n=B({agent_commission:null}),j=()=>{n.patch(route("transaction.update",t.history),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>{n.reset()}})};function f(_){return C(_).format("DD MMM Y HH:mm")}function c(_){return(_/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return(_,m)=>(e(),N(K,{title:t.history.product_name,name:t.history.product_name,desc:"lorem ipsum dolor sit"},{previous:r(()=>[a(T)]),default:r(()=>{var p,x;return[t.history.status_id==1?(e(),i(y,{key:0},[s("div",I,[s("div",F,[a(u,{class:"block sm:hidden"}),H]),s("div",q,[s("div",O,[s("div",Q,[U,s("div",z,o(f(t.history.updated_at)),1)]),s("div",E,[J,s("div",L,o(t.history.order_id),1)]),Y,t.history.category_id==1?(e(),i("div",G,[W,s("div",X,o(t.history.category),1)])):d("",!0),t.history.category_id==1?(e(),i("div",Z,[ss,t.history.virtual_account?(e(),i("div",ts,o(t.history.virtual_account.bank),1)):d("",!0),t.history.wallet_account?(e(),i("div",os,o(t.history.wallet_account.bank),1)):d("",!0)])):d("",!0),t.history.category_id!=1?(e(),i("div",es,[is,s("div",as,o(t.history.product_name),1)])):d("",!0),t.history.category_id!=1?(e(),i("div",ds,[cs,s("div",ls,o(t.history.customer_no),1)])):d("",!0),t.history.category_id==5?(e(),i(y,{key:4},[s("div",ns,[rs,s("div",_s,o(t.history.desc.split("/")[1]),1)]),s("div",ms,[hs,s("div",ys,[a(l(g),{content:"Sukses Copy",arrow:"",placement:"right-end"},{default:r(()=>[s("button",{onClick:m[0]||(m[0]=b=>l(v)(t.history.desc.split("/")[0])),class:""},o(t.history.desc.split("/")[0]),1)]),_:1})])])],64)):(e(),i("div",bs,[us,s("div",fs,o((p=t.history.desc)!=null?p:"-"),1)])),ps,s("div",xs,[vs,s("div",gs," Rp "+o(t.history.category_id==1||t.history.category_id>=8?c(t.history.amount):c(t.history.gross_amount)),1)]),s("div",ks,[ws,s("div",js," Rp "+o(t.history.category_id==1||t.history.category_id>=8?c(t.history.admin_fee):"0"),1)]),t.history.agent_commission?(e(),i("div",Bs,[Ns,s("div",Ss," Rp "+o(c(t.history.agent_commission)),1)])):d("",!0),Rs,s("div",$s,[Ks,s("div",Cs,"Rp "+o(c(Number(t.history.gross_amount)+Number(t.history.agent_commission))),1)])])])]),t.history.category_id!=1&&_.$page.props.user.role_id!=3?(e(),i("div",Ts,[Vs,s("div",As,[s("form",{onSubmit:S(j,["prevent"])},[s("div",Ms,[s("div",Ps,[a(V,{for:"amount",value:"Harga Jual"}),s("div",Is,[Fs,a(A,{id:"amount",modelValue:l(n).agent_commission,"onUpdate:modelValue":m[1]||(m[1]=b=>l(n).agent_commission=b),type:"number",class:"mt-1 block w-full rounded-l-none",min:Number(t.history.gross_amount),max:"100000",required:""},null,8,["modelValue","min"])]),a(D,{message:l(n).errors.agent_commission,class:"mt-2"},null,8,["message"])]),s("div",Hs,[a(M,{on:l(n).recentlySuccessful,class:"mr-3"},{default:r(()=>[h(" Berhasil disimpan. ")]),_:1},8,["on"]),a(k,{class:R({"opacity-25":l(n).processing}),disabled:l(n).processing},{default:r(()=>[h(" Konfirmasi ")]),_:1},8,["class","disabled"])])])],40,Ds)])])):d("",!0),s("div",qs,[a(P,{as:"a",href:_.route("dashboard"),class:"justify-center w-full"},{default:r(()=>[h("Beranda")]),_:1},8,["href"]),a(k,{as:"a",href:_.route("transaction.print",t.history),class:"justify-center w-full"},{default:r(()=>[h("Bagikan")]),_:1},8,["href"])]),Os],64)):t.history.status_id==2?(e(),i("div",Qs,[s("div",Us,[a(u,{class:"block sm:hidden"}),zs]),s("div",Es,[s("div",Js,[t.history.virtual_account?(e(),i(y,{key:0},[s("div",Ls,[Ys,s("div",Gs,o(t.history.virtual_account.bank),1)]),s("div",Ws,[Xs,s("div",Zs,[h(o(t.history.virtual_account.va_number)+" ",1),a(l(g),{class:"text-sm text-primary-700 font-normal lowercase",content:"Sukses Copy",arrow:"",placement:"right-end"},{default:r(()=>[s("button",{class:"",onClick:m[2]||(m[2]=b=>l(v)(t.history.virtual_account.va_number))},tt)]),_:1})])]),s("div",ot,[et,s("div",it,[s("a",{target:"_blank",href:t.history.virtual_account.payment_url}," Bayar ",8,at)])])],64)):t.history.wallet_account?(e(),i(y,{key:1},[s("div",dt,[ct,s("div",lt,o(t.history.wallet_account.bank),1)]),s("div",nt,[rt,s("div",_t,[a(l($),{value:t.history.wallet_account.qr_code,tag:"svg",options:{width:200,color:{dark:"#000",light:"#fff"}}},null,8,["value"])])]),s("div",mt,[ht,s("div",yt,[s("a",{target:"_blank",href:t.history.wallet_account.payment_url}," Bayar ",8,bt)])])],64)):d("",!0),ut,s("div",ft,[pt,s("div",xt,"Rp "+o(c(t.history.amount)),1)]),s("div",vt,[gt,s("div",kt,"Rp "+o(c(t.history.admin_fee)),1)]),s("div",wt,[jt,s("div",Bt,"Rp "+o(c(t.history.gross_amount)),1)])])])])):(e(),i("div",Nt,[s("div",St,[a(u,{class:"block sm:hidden"}),s("h3",Rt,"Transaksi "+o(t.history.status),1)]),s("div",$t,[s("div",Kt,[s("div",Ct,[Tt,s("div",Vt,o(f(t.history.updated_at)),1)]),s("div",At,[Dt,s("div",Mt,o(t.history.order_id),1)]),Pt,s("div",It,[Ft,s("div",Ht,o(t.history.category),1)]),t.history.category_id==1?(e(),i("div",qt,[Ot,t.history.virtual_account?(e(),i("div",Qt,o(t.history.virtual_account.bank),1)):d("",!0),t.history.wallet_account?(e(),i("div",Ut,o(t.history.wallet_account.bank),1)):d("",!0)])):d("",!0),t.history.category_id!=1?(e(),i("div",zt,[Et,s("div",Jt,o(t.history.product_name),1)])):d("",!0),t.history.category_id!=1?(e(),i("div",Lt,[Yt,s("div",Gt,o(t.history.customer_no),1)])):d("",!0),s("div",Wt,[Xt,s("div",Zt,o((x=t.history.desc)!=null?x:"-"),1)]),so,s("div",to,[oo,s("div",eo,"Rp "+o(t.history.category_id==1?c(t.history.amount):c(t.history.gross_amount)),1)]),s("div",io,[ao,s("div",co,"Rp "+o(t.history.category_id==1?c(t.history.admin_fee):"0"),1)]),lo,s("div",no,[ro,s("div",_o,"Rp "+o(c(t.history.gross_amount)),1)])])])]))]}),_:1},8,["title","name"]))}};export{Ko as default};
