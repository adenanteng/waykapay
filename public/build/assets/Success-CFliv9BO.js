import{T,d as w,p as C,o,e as i,a as s,b as c,t as e,f as a,F as y,w as d,u as m,i as K,n as A,c as j,E as R,g as u}from"./app-DIj1AIGT.js";import{e as V}from"./popper.esm-DcvafMNC.js";import{_ as f}from"./PrimaryButton-DdyNBhSw.js";import{_ as D}from"./SecondaryButton-C0kLZyAp.js";import{A as M}from"./ApplicationLogoTitle-C3PCSOGO.js";import{m as L}from"./moment-BbgfG4AQ.js";import{_ as P}from"./ActionMessage-J1sZ07UF.js";import{_ as F}from"./InputLabel-CG4klQP5.js";import{_ as H}from"./TextInput-BfDTj5vF.js";import{_ as J}from"./InputError-B5mJH3He.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";const E={class:"rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm overflow-hidden shadow-lg border border-gray-300"},I={class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},W=s("h3",{class:"mt-1 text-lg font-bold leading-6 text-gray-900"},"Transaksi Berhasil",-1),q={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},z={class:"grid grid-cols-1 gap-x-4 gap-y-2 sm:gap-y-8 sm:grid-cols-2 text-gray-900"},O={class:"sm:col-span-1 flex sm:block justify-between"},U=s("div",{class:"text-sm"},"Tanggal",-1),Y={class:"text-sm font-semibold"},G={class:"sm:col-span-1 flex sm:block justify-between"},Q=s("div",{class:"text-sm"},"Kode Referensi",-1),X={class:"text-sm font-semibold w-1/2 truncate"},Z=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),ss={key:0,class:"sm:col-span-1 flex sm:block justify-between"},ts=s("div",{class:"text-sm"},"Kategori",-1),es={class:"text-sm font-semibold"},os={key:1,class:"sm:col-span-1 flex sm:block justify-between"},is=s("div",{class:"text-sm"},"Sumber Dana",-1),as={key:0,class:"text-sm font-semibold uppercase"},rs={key:1,class:"text-sm font-semibold uppercase"},cs={key:2,class:"text-sm font-semibold uppercase"},ns={key:3,class:"text-sm font-semibold uppercase"},ls={class:"sm:col-span-1 flex sm:block justify-between"},ds=s("div",{class:"text-sm"},"Jenis Transaksi",-1),ms={class:"text-sm font-semibold uppercase"},_s={class:"sm:col-span-1 flex sm:block justify-between"},hs=s("div",{class:"text-sm"},"Bank Tujuan",-1),us={class:"text-sm font-semibold uppercase"},ys={class:"sm:col-span-1 flex sm:block justify-between"},fs=s("div",{class:"text-sm"},"Nama Tujuan",-1),ps={class:"text-sm font-semibold uppercase"},bs={class:"sm:col-span-1 flex sm:block justify-between"},gs=s("div",{class:"text-sm"},"No. Rekening Tujuan",-1),vs={class:"text-sm font-semibold uppercase"},xs={key:3,class:"sm:col-span-1 flex sm:block justify-between"},ks=s("div",{class:"text-sm"},"Produk",-1),ws={class:"text-sm font-semibold uppercase"},js={key:4,class:"sm:col-span-1 flex sm:block justify-between"},Bs=s("div",{class:"text-sm"},"No. Kustomer",-1),Ns={class:"text-sm font-semibold"},Ss={class:"sm:col-span-1 flex sm:block justify-between"},$s=s("div",{class:"text-sm"},"Nama Kustomer",-1),Ts={class:"text-sm font-semibold"},Cs={class:"sm:col-span-2 block justify-between"},Ks=s("div",{class:"text-sm"},"Stroom",-1),As={class:"text-sm mt-2 sm:mt-0 font-bold text-center sm:text-left"},Rs={key:6,class:"sm:col-span-2 block justify-between"},Vs=s("div",{class:"text-sm"},"Keterangan",-1),Ds={class:"text-sm mt-2 sm:mt-0 font-semibold text-center sm:text-left"},Ms=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),Ls={class:"sm:col-span-1 flex sm:block justify-between"},Ps=s("div",{class:"text-sm"},"Nominal",-1),Fs={class:"text-sm font-semibold"},Hs={class:"sm:col-span-1 flex sm:block justify-between"},Js=s("div",{class:"text-sm"},"Biaya Admin",-1),Es={class:"text-sm font-semibold"},Is={key:7,class:"sm:col-span-1 flex sm:block justify-between"},Ws=s("div",{class:"text-sm"},"Komisi",-1),qs={class:"text-sm font-semibold"},zs={key:8,class:"sm:col-span-1 flex sm:block justify-between"},Os=s("div",{class:"text-sm"},"Biaya Layanan",-1),Us={class:"text-sm font-semibold"},Ys=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),Gs={class:"sm:col-span-1 flex sm:block justify-between"},Qs=s("div",{class:"text-sm font-bold"},"Total",-1),Xs={class:"text-lg font-bold"},Zs=s("div",{class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6 text-xs text-gray-500"},[s("p",null,"CV Cahaya Matahari Dunia"),s("p",null,"NPWP: 50.079.228.8-326.000"),s("p",null,"Jl. Lintas Sumatera, Baradatu, Way Kanan, Lampung - 34761")],-1),st={key:0,class:"rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm overflow-hidden shadow-lg border border-gray-300"},tt=s("div",{class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},[s("h3",{class:"mt-1 text-lg font-bold leading-6 text-gray-900"},"Komisi Agen")],-1),et={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},ot={class:"grid grid-cols-6"},it={class:"col-span-6 sm:col-span-3"},at={class:"relative"},rt=s("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-gray-600"}," Rp ",-1),ct={class:"col-span-6 mt-3 flex justify-between items-center"},nt={class:"flex justify-center gap-2"},lt=s("i",{class:"fa-regular fa-print mr-2"},null,-1),dt=s("i",{class:"fa-regular fa-share-nodes mr-2"},null,-1),mt={class:""},_t=s("i",{class:"fa-regular fa-home mr-2"},null,-1),Bt={__name:"Success",props:{history:Object},setup(B){const t=B,n=T({agent_commission:null}),_=w(null),N=w(null);C(_,r=>{_.value=r.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".")});const S=()=>{n.agent_commission=_.value.replaceAll(".",""),n.patch(route("transaction.update",t.history),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>{n.reset()}})};function $(r){return L(r).format("DD MMM Y HH:mm")}function l(r){return(r/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return(r,h)=>{var p,b,g,v,x;return o(),i(y,null,[s("div",E,[s("div",I,[c(M,{class:"block sm:hidden"}),W]),s("div",q,[s("div",z,[s("div",O,[U,s("div",Y,e($(t.history.updated_at)),1)]),s("div",G,[Q,s("div",X,e(t.history.order_id),1)]),Z,t.history.category_id==1?(o(),i("div",ss,[ts,s("div",es,e(t.history.category),1)])):a("",!0),t.history.category_id==1?(o(),i("div",os,[is,t.history.virtual_account?(o(),i("div",as,e(t.history.virtual_account.bank),1)):a("",!0),t.history.wallet_account?(o(),i("div",rs,e(t.history.wallet_account.bank),1)):a("",!0),t.history.offline_account?(o(),i("div",cs,e(t.history.offline_account.bank),1)):a("",!0),t.history.manual_account?(o(),i("div",ns,e(t.history.manual_account.bank),1)):a("",!0)])):a("",!0),t.history.category_id==99?(o(),i(y,{key:2},[s("div",ls,[ds,s("div",ms,e(t.history.product_name.replaceAll("-"," ")),1)]),s("div",_s,[hs,s("div",us,e((p=t.history.money_transfer)==null?void 0:p.bank),1)]),s("div",ys,[fs,s("div",ps,e((b=t.history.money_transfer)==null?void 0:b.to_name),1)]),s("div",bs,[gs,s("div",vs,e((g=t.history.money_transfer)==null?void 0:g.to_number),1)])],64)):a("",!0),t.history.category_id!=99&&t.history.category_id!=1?(o(),i("div",xs,[ks,s("div",ws,e(t.history.product_name.replaceAll("-"," ")),1)])):a("",!0),t.history.category_id!=99&&t.history.category_id!=1?(o(),i("div",js,[Bs,s("div",Ns,e(t.history.customer_no),1)])):a("",!0),t.history.category_id==5?(o(),i(y,{key:5},[s("div",Ss,[$s,s("div",Ts,e(t.history.desc.split("/")[1]),1)]),s("div",Cs,[Ks,s("div",As,[c(m(V),{content:"Sukses Copy",arrow:"",placement:"right-end"},{default:d(()=>[s("button",{onClick:h[0]||(h[0]=k=>m(R)(t.history.desc.split("/")[0])),class:"text-lg"},e(t.history.desc.split("/")[0]),1)]),_:1})])])],64)):(o(),i("div",Rs,[Vs,s("div",Ds,e(((x=(v=t.history)==null?void 0:v.desc)==null?void 0:x.replaceAll("/"," "))??"-"),1)])),Ms,s("div",Ls,[Ps,s("div",Fs," Rp "+e(t.history.category_id==1||t.history.category_id>=8?l(t.history.amount):l(t.history.gross_amount)),1)]),s("div",Hs,[Js,s("div",Es," Rp "+e(t.history.category_id==1||t.history.category_id>=8?l(t.history.admin_fee):"0"),1)]),t.history.agent_commission?(o(),i("div",Is,[Ws,s("div",qs," Rp "+e(l(t.history.agent_commission)),1)])):a("",!0),t.history.service_fee!=0?(o(),i("div",zs,[Os,s("div",Us," Rp "+e(l(t.history.service_fee)),1)])):a("",!0),Ys,s("div",Gs,[Qs,s("div",Xs,"Rp "+e(l(Number(t.history.gross_amount)+Number(t.history.agent_commission))),1)])])]),Zs]),t.history.category_id!=0&&t.history.category_id!=1&&r.$page.props.user.role_id!=3&&t.history.user_id==r.$page.props.user.id?(o(),i("div",st,[tt,s("div",et,[s("form",{onSubmit:K(S,["prevent"])},[s("div",ot,[s("div",it,[c(F,{for:"amount",value:"Harga Jual"}),s("div",at,[rt,c(H,{id:"amount",modelValue:_.value,"onUpdate:modelValue":h[1]||(h[1]=k=>_.value=k),type:"tel",class:"mt-1 block w-full pl-10",min:Number(t.history.gross_amount),required:""},null,8,["modelValue","min"])]),c(J,{message:m(n).errors.agent_commission||N.value,class:"mt-2"},null,8,["message"])]),s("div",ct,[c(P,{on:m(n).recentlySuccessful,class:"mr-3"},{default:d(()=>[u(" Berhasil disimpan. ")]),_:1},8,["on"]),c(f,{class:A({"opacity-25":m(n).processing}),disabled:m(n).processing},{default:d(()=>[u(" Konfirmasi ")]),_:1},8,["class","disabled"])])])],32)])])):a("",!0),s("div",nt,[t.history.user_id==r.$page.props.user.id&&t.history.category_id!=1?(o(),j(f,{key:0,as:"a",href:r.route("transaction.print",t.history.order_id),class:"justify-center w-full"},{default:d(()=>[lt,u(" Cetak ")]),_:1},8,["href"])):a("",!0),t.history.user_id==r.$page.props.user.id&&t.history.category_id!=1?(o(),j(f,{key:1,as:"a",href:r.route("transaction.share",t.history.order_id),class:"justify-center w-full"},{default:d(()=>[dt,u(" Bagikan ")]),_:1},8,["href"])):a("",!0)]),s("div",mt,[c(D,{as:"a",href:r.route("dashboard"),class:"justify-center w-full border border-gray-600 dark:border-white nightwind-prevent"},{default:d(()=>[_t,u(" Beranda ")]),_:1},8,["href"])])],64)}}};export{Bt as default};
