import{T as V,d as g,z as M,s as I,o,c as p,w as n,f as a,e as i,a as s,b as c,g as m,F as y,t as e,u as _,D as k,l as L,n as F,E as H}from"./app-feb64595.js";import{_ as J}from"./AppLayout-51acf496.js";import{h as q}from"./moment-fbc5633a.js";import{_ as z}from"./PreviousButton-48cababf.js";import{e as w}from"./popper.esm-08730574.js";import{_ as E}from"./InputLabel-05d1ba94.js";import{_ as Q}from"./TextInput-3947a752.js";import{_ as W}from"./InputError-5bb3bd9d.js";import{_ as b}from"./PrimaryButton-c8ae87e7.js";import{_ as O}from"./ActionMessage-4d57f503.js";import{_ as K}from"./SecondaryButton-6e53fe24.js";import{A as x}from"./ApplicationLogoTitle-3636ae69.js";import"./OnlineStatus-67ed195d.js";import"./index-2c2db6c0.js";import"./DarkmodeToggle-eb2497ea.js";import"./use-controllable-bf227891.js";import"./focus-management-0be16fb0.js";import"./_plugin-vue_export-helper-c27b6911.js";const U={key:0,class:"pt-16 pb-12"},Y={class:"mx-auto flex w-full max-w-7xl flex-grow flex-col justify-center px-6 lg:px-8"},G={class:"flex flex-shrink-0 justify-center"},X={class:"mt-5"},Z={class:"text-center justify-center"},ss=s("div",{class:"px-4 sm:px-6 text-center text-gray-900 text-sm"},null,-1),ts=s("h1",{class:"text-lg font-bold tracking-tight text-gray-900"},"Transaksi Berhasil",-1),es=s("p",{class:"text-gray-500 text-sm"},"Kamu akan dialihkan dalam 5 detik",-1),os={class:"mt-5 gap-x-2"},is=s("i",{class:"fa-regular fa-arrow-right ml-1 text-xs"},null,-1),as={class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},cs={class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},ds=s("h3",{class:"mt-1 text-lg font-bold leading-6 text-gray-900"},"Transaksi Berhasil",-1),ls={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},ns={class:"grid grid-cols-1 gap-x-4 gap-y-2 sm:gap-y-8 sm:grid-cols-2 text-gray-900"},rs={class:"sm:col-span-1 flex sm:block justify-between"},_s=s("div",{class:"text-sm"},"Tanggal",-1),ms={class:"text-sm font-semibold"},hs={class:"sm:col-span-1 flex sm:block justify-between"},ys=s("div",{class:"text-sm"},"Kode Referensi",-1),us={class:"text-sm font-semibold"},fs=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),ps={key:0,class:"sm:col-span-1 flex sm:block justify-between"},bs=s("div",{class:"text-sm"},"Kategori",-1),xs={class:"text-sm font-semibold"},vs={key:1,class:"sm:col-span-1 flex sm:block justify-between"},gs=s("div",{class:"text-sm"},"Sumber Dana",-1),ks={key:0,class:"text-sm font-semibold uppercase"},ws={key:1,class:"text-sm font-semibold uppercase"},js={key:2,class:"text-sm font-semibold uppercase"},Bs={class:"sm:col-span-1 flex sm:block justify-between"},Ss=s("div",{class:"text-sm"},"Jenis Transaksi",-1),Ns={class:"text-sm font-semibold uppercase"},Ts={class:"sm:col-span-1 flex sm:block justify-between"},Rs=s("div",{class:"text-sm"},"Bank Tujuan",-1),$s={class:"text-sm font-semibold uppercase"},Cs={class:"sm:col-span-1 flex sm:block justify-between"},Ks=s("div",{class:"text-sm"},"Nama Tujuan",-1),Ds={class:"text-sm font-semibold uppercase"},As={class:"sm:col-span-1 flex sm:block justify-between"},Ps=s("div",{class:"text-sm"},"No. Rekening Tujuan",-1),Vs={class:"text-sm font-semibold uppercase"},Ms={key:3,class:"sm:col-span-1 flex sm:block justify-between"},Is=s("div",{class:"text-sm"},"Produk",-1),Ls={class:"text-sm font-semibold uppercase"},Fs={key:4,class:"sm:col-span-1 flex sm:block justify-between"},Hs=s("div",{class:"text-sm"},"No. Kustomer",-1),Js={class:"text-sm font-semibold"},qs={class:"sm:col-span-1 flex sm:block justify-between"},zs=s("div",{class:"text-sm"},"Nama Kustomer",-1),Es={class:"text-sm font-semibold"},Qs={class:"sm:col-span-1 flex sm:block justify-between"},Ws=s("div",{class:"text-sm"},"Stroom",-1),Os={class:"text-sm font-bold"},Us={key:6,class:"sm:col-span-2 flex sm:block justify-between gap-5"},Ys=s("div",{class:"text-sm"},"Keterangan",-1),Gs={class:"text-sm font-semibold text-right sm:text-left"},Xs=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),Zs={class:"sm:col-span-1 flex sm:block justify-between"},st=s("div",{class:"text-sm"},"Nominal",-1),tt={class:"text-sm font-semibold"},et={class:"sm:col-span-1 flex sm:block justify-between"},ot=s("div",{class:"text-sm"},"Biaya Admin",-1),it={class:"text-sm font-semibold"},at={key:7,class:"sm:col-span-1 flex sm:block justify-between"},ct=s("div",{class:"text-sm"},"Komisi",-1),dt={class:"text-sm font-semibold"},lt=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),nt={class:"sm:col-span-1 flex sm:block justify-between"},rt=s("div",{class:"text-sm font-bold"},"Total",-1),_t={class:"text-sm font-bold"},mt=s("div",{class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6 text-xs text-gray-500"},[s("p",null,"CV Cahaya Matahari Dunia"),s("p",null,"NPWP: 50.079.228.8-326.000"),s("p",null,"Jl. Lintas Sumatera, Baradatu, Way Kanan, Lampung - 34761")],-1),ht={key:0,class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},yt=s("div",{class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},[s("h3",{class:"mt-1 text-lg font-bold leading-6 text-gray-900"},"Komisi Agen")],-1),ut={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},ft={class:"grid grid-cols-6"},pt={class:"col-span-6 sm:col-span-3"},bt={class:"flex"},xt=s("span",{class:"flex items-center bg-white text-black border border-gray-300 border-r-0 rounded-3xl rounded-r-none shadow-sm mt-1 px-3"}," Rp ",-1),vt={class:"col-span-6 mt-3 flex justify-between items-center"},gt={class:"flex justify-center gap-2"},kt=s("i",{class:"fa-regular fa-print mr-2"},null,-1),wt=s("i",{class:"fa-regular fa-share-nodes mr-2"},null,-1),jt={class:""},Bt=s("i",{class:"fa-regular fa-home mr-2"},null,-1),St={key:1,class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},Nt={class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},Tt=s("h3",{class:"mt-1 text-lg font-bold leading-6 text-gray-900"},"Transaksi Pending",-1),Rt={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},$t={class:"grid grid-cols-1 gap-x-4 gap-y-2 sm:gap-y-8 sm:grid-cols-2 text-gray-900"},Ct={class:"sm:col-span-1 flex sm:block justify-between"},Kt=s("div",{class:"text-sm"},"Bank",-1),Dt={class:"text-sm font-semibold uppercase"},At={class:"sm:col-span-1 flex sm:block justify-between"},Pt=s("div",{class:"text-sm"},"No. Virtual Account",-1),Vt={class:"text-sm font-semibold"},Mt=s("i",{class:"fa-duotone fa-paste ml-2"},null,-1),It=[Mt],Lt={class:"sm:col-span-1 flex sm:block justify-between"},Ft=s("div",{class:"text-sm"},"Metode Pembayaran",-1),Ht={class:"text-sm font-semibold uppercase"},Jt={class:"sm:col-span-2 flex flex-col items-center my-5 gap-3"},qt=s("div",{class:"text-sm"},[s("img",{src:"/img/vendor/QRIS.svg",class:"h-8 w-auto",alt:"QRIS"})],-1),zt={class:"text-sm"},Et={class:"sm:col-span-1 flex sm:block justify-between"},Qt=s("div",{class:"text-sm"},"Deeplink",-1),Wt={class:"text-sm font-semibold text-primary-600 underline"},Ot=["href"],Ut={class:"sm:col-span-1 flex sm:block justify-between"},Yt=s("div",{class:"text-sm"},"Metode Pembayaran",-1),Gt={class:"text-sm font-semibold uppercase"},Xt={class:"sm:col-span-1 flex sm:block justify-between"},Zt=s("div",{class:"text-sm"},"No. Pembayaran",-1),se={class:"text-sm font-semibold"},te=s("i",{class:"fa-duotone fa-paste ml-2"},null,-1),ee=[te],oe={class:"sm:col-span-1 flex sm:block justify-between"},ie=s("div",{class:"text-sm"},"Cara bayar",-1),ae={class:"text-sm font-semibold text-primary-600 underline"},ce=["href"],de=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),le={class:"sm:col-span-1 flex sm:block justify-between"},ne=s("div",{class:"text-sm"},"Nominal",-1),re={class:"text-sm font-semibold"},_e={class:"sm:col-span-1 flex sm:block justify-between"},me=s("div",{class:"text-sm"},"Biaya Admin",-1),he={class:"text-sm font-semibold"},ye={class:"sm:col-span-1 flex sm:block justify-between"},ue=s("div",{class:"text-sm"},"Total",-1),fe={class:"text-sm font-semibold"},pe={key:2,class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},be={class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},xe={class:"mt-1 text-lg font-bold leading-6 text-gray-900"},ve={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},ge={class:"grid grid-cols-1 gap-x-4 gap-y-2 sm:gap-y-8 sm:grid-cols-2 text-gray-900"},ke={class:"sm:col-span-1 flex sm:block justify-between"},we=s("div",{class:"text-sm"},"Tanggal",-1),je={class:"text-sm font-semibold"},Be={class:"sm:col-span-1 flex sm:block justify-between"},Se=s("div",{class:"text-sm"},"Kode Referensi",-1),Ne={class:"text-sm font-semibold"},Te=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),Re={class:"sm:col-span-1 flex sm:block justify-between"},$e=s("div",{class:"text-sm"},"Kategori",-1),Ce={class:"text-sm font-semibold"},Ke={key:0,class:"sm:col-span-1 flex sm:block justify-between"},De=s("div",{class:"text-sm"},"Sumber Dana",-1),Ae={key:0,class:"text-sm font-semibold uppercase"},Pe={key:1,class:"text-sm font-semibold uppercase"},Ve={key:2,class:"text-sm font-semibold uppercase"},Me={key:1,class:"sm:col-span-1 flex sm:block justify-between"},Ie=s("div",{class:"text-sm"},"Produk",-1),Le={class:"text-sm font-semibold"},Fe={key:2,class:"sm:col-span-1 flex sm:block justify-between"},He=s("div",{class:"text-sm"},"No. Kustomer",-1),Je={class:"text-sm font-semibold"},qe={class:"sm:col-span-2 flex sm:block justify-between"},ze=s("div",{class:"text-sm"},"Keterangan",-1),Ee={class:"text-sm font-semibold text-right sm:text-left"},Qe=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),We={class:"sm:col-span-1 flex sm:block justify-between"},Oe=s("div",{class:"text-sm"},"Nominal",-1),Ue={class:"text-sm font-semibold"},Ye={class:"sm:col-span-1 flex sm:block justify-between"},Ge=s("div",{class:"text-sm"},"Biaya Admin",-1),Xe={class:"text-sm font-semibold"},Ze=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),so={class:"sm:col-span-1 flex sm:block justify-between"},to=s("div",{class:"text-sm font-bold"},"Total",-1),eo={class:"text-sm font-bold"},ko={__name:"Show",props:{history:Object,goBack:{type:Boolean,default:!0},goSuccess:{type:Boolean,default:!1}},setup(D){const t=D,h=V({agent_commission:null}),A=g(null),P=()=>{h.agent_commission=u.value.replaceAll(".",""),h.patch(route("transaction.update",t.history),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>{h.reset()}})},v=g(t.goSuccess);M(()=>{setTimeout(()=>v.value=!1,5e3)});const u=g(null);I(u,d=>{u.value=d.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".")});function j(d){return q(d).format("DD MMM Y HH:mm")}function l(d){return(d/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return(d,r)=>(o(),p(J,{title:t.history.product_name,name:t.history.product_name,desc:"lorem ipsum dolor sit"},{previous:n(()=>[t.goBack?(o(),p(z,{key:0})):a("",!0)]),default:n(()=>{var B,S,N,T,R,$,C;return[v.value?(o(),i("div",U,[s("main",Y,[s("div",G,[c(x)]),s("div",X,[s("div",Z,[ss,ts,es,s("div",os,[c(b,{onClick:r[0]||(r[0]=f=>v.value=!1)},{default:n(()=>[m(" Lihat Transaksi ")]),_:1}),c(K,{as:"a",href:d.route("dashboard")},{default:n(()=>[m(" Ke Beranda "),is]),_:1},8,["href"])])])])])])):(o(),i(y,{key:1},[t.history.status_id==1?(o(),i(y,{key:0},[s("div",as,[s("div",cs,[c(x,{class:"block sm:hidden"}),ds]),s("div",ls,[s("div",ns,[s("div",rs,[_s,s("div",ms,e(j(t.history.updated_at)),1)]),s("div",hs,[ys,s("div",us,e(t.history.order_id),1)]),fs,t.history.category_id==1?(o(),i("div",ps,[bs,s("div",xs,e(t.history.category),1)])):a("",!0),t.history.category_id==1?(o(),i("div",vs,[gs,t.history.virtual_account?(o(),i("div",ks,e(t.history.virtual_account.bank),1)):a("",!0),t.history.wallet_account?(o(),i("div",ws,e(t.history.wallet_account.bank),1)):a("",!0),t.history.offline_account?(o(),i("div",js,e(t.history.offline_account.bank),1)):a("",!0)])):a("",!0),t.history.category_id==99?(o(),i(y,{key:2},[s("div",Bs,[Ss,s("div",Ns,e(t.history.product_name),1)]),s("div",Ts,[Rs,s("div",$s,e((B=t.history.money_transfer)==null?void 0:B.bank),1)]),s("div",Cs,[Ks,s("div",Ds,e((N=(S=t.history.money_transfer)==null?void 0:S.to)==null?void 0:N.name),1)]),s("div",As,[Ps,s("div",Vs,e((R=(T=t.history.money_transfer)==null?void 0:T.to)==null?void 0:R.phone),1)])],64)):a("",!0),t.history.category_id!=99&&t.history.category_id!=1?(o(),i("div",Ms,[Is,s("div",Ls,e(t.history.product_name),1)])):a("",!0),t.history.category_id!=99&&t.history.category_id!=1?(o(),i("div",Fs,[Hs,s("div",Js,e(t.history.customer_no),1)])):a("",!0),t.history.category_id==5?(o(),i(y,{key:5},[s("div",qs,[zs,s("div",Es,e(t.history.desc.split("/")[1]),1)]),s("div",Qs,[Ws,s("div",Os,[c(_(w),{content:"Sukses Copy",arrow:"",placement:"right-end"},{default:n(()=>[s("button",{onClick:r[1]||(r[1]=f=>_(k)(t.history.desc.split("/")[0])),class:""},e(t.history.desc.split("/")[0]),1)]),_:1})])])],64)):(o(),i("div",Us,[Ys,s("div",Gs,e(((C=($=t.history)==null?void 0:$.desc)==null?void 0:C.replaceAll("/"," "))??"-"),1)])),Xs,s("div",Zs,[st,s("div",tt," Rp "+e(t.history.category_id==1||t.history.category_id>=8?l(t.history.amount):l(t.history.gross_amount)),1)]),s("div",et,[ot,s("div",it," Rp "+e(t.history.category_id==1||t.history.category_id>=8?l(t.history.admin_fee):"0"),1)]),t.history.agent_commission?(o(),i("div",at,[ct,s("div",dt," Rp "+e(l(t.history.agent_commission)),1)])):a("",!0),lt,s("div",nt,[rt,s("div",_t,"Rp "+e(l(Number(t.history.gross_amount)+Number(t.history.agent_commission))),1)])])]),mt]),t.history.category_id!=0&&t.history.category_id!=1&&d.$page.props.user.role_id!=3&&t.history.user_id==d.$page.props.user.id?(o(),i("div",ht,[yt,s("div",ut,[s("form",{onSubmit:L(P,["prevent"])},[s("div",ft,[s("div",pt,[c(E,{for:"amount",value:"Harga Jual"}),s("div",bt,[xt,c(Q,{id:"amount",modelValue:u.value,"onUpdate:modelValue":r[2]||(r[2]=f=>u.value=f),type:"tel",class:"mt-1 block w-full rounded-l-none",min:Number(t.history.gross_amount),required:""},null,8,["modelValue","min"])]),c(W,{message:_(h).errors.agent_commission||A.value,class:"mt-2"},null,8,["message"])]),s("div",vt,[c(O,{on:_(h).recentlySuccessful,class:"mr-3"},{default:n(()=>[m(" Berhasil disimpan. ")]),_:1},8,["on"]),c(b,{class:F({"opacity-25":_(h).processing}),disabled:_(h).processing},{default:n(()=>[m(" Konfirmasi ")]),_:1},8,["class","disabled"])])])],32)])])):a("",!0),s("div",gt,[t.history.user_id==d.$page.props.user.id&&t.history.category_id!=1?(o(),p(b,{key:0,as:"a",href:d.route("transaction.print",t.history.order_id),class:"justify-center w-full"},{default:n(()=>[kt,m(" Cetak ")]),_:1},8,["href"])):a("",!0),t.history.user_id==d.$page.props.user.id&&t.history.category_id!=1?(o(),p(b,{key:1,as:"a",href:d.route("transaction.share",t.history.order_id),class:"justify-center w-full"},{default:n(()=>[wt,m(" Bagikan ")]),_:1},8,["href"])):a("",!0)]),s("div",jt,[t.goBack?a("",!0):(o(),p(K,{key:0,as:"a",href:d.route("dashboard"),class:"justify-center w-full border border-gray-300 nightwind-prevent"},{default:n(()=>[Bt,m(" Beranda ")]),_:1},8,["href"]))])],64)):t.history.status_id==2?(o(),i("div",St,[s("div",Nt,[c(x,{class:"block sm:hidden"}),Tt]),s("div",Rt,[s("div",$t,[t.history.virtual_account?(o(),i(y,{key:0},[s("div",Ct,[Kt,s("div",Dt,e(t.history.virtual_account.bank),1)]),s("div",At,[Pt,s("div",Vt,[m(e(t.history.virtual_account.va_number)+" ",1),c(_(w),{class:"text-sm text-primary-700 font-normal lowercase",content:"Sukses Copy",arrow:"",placement:"right-end"},{default:n(()=>[s("button",{class:"",onClick:r[3]||(r[3]=f=>_(k)(t.history.virtual_account.va_number))},It)]),_:1})])])],64)):t.history.wallet_account?(o(),i(y,{key:1},[s("div",Lt,[Ft,s("div",Ht,e(t.history.wallet_account.bank),1)]),s("div",Jt,[qt,s("div",zt,[c(_(H),{value:t.history.wallet_account.qr_code,tag:"svg",options:{width:200,color:{dark:"#000",light:"#fff"}}},null,8,["value"])])]),s("div",Et,[Qt,s("div",Wt,[s("a",{target:"_blank",href:t.history.wallet_account.payment_url}," Bayar ",8,Ot)])])],64)):t.history.offline_account?(o(),i(y,{key:2},[s("div",Ut,[Yt,s("div",Gt,e(t.history.offline_account.bank),1)]),s("div",Xt,[Zt,s("div",se,[m(e(t.history.offline_account.payment_code)+" ",1),c(_(w),{class:"text-sm text-primary-700 font-normal lowercase",content:"Sukses Copy",arrow:"",placement:"right-end"},{default:n(()=>[s("button",{class:"",onClick:r[4]||(r[4]=f=>_(k)(t.history.offline_account.payment_code))},ee)]),_:1})])]),s("div",oe,[ie,s("div",ae,[s("a",{target:"_blank",href:t.history.offline_account.payment_url}," Bayar ",8,ce)])])],64)):a("",!0),de,s("div",le,[ne,s("div",re,"Rp "+e(l(t.history.amount)),1)]),s("div",_e,[me,s("div",he,"Rp "+e(l(t.history.admin_fee)),1)]),s("div",ye,[ue,s("div",fe,"Rp "+e(l(t.history.gross_amount)),1)])])])])):(o(),i("div",pe,[s("div",be,[c(x,{class:"block sm:hidden"}),s("h3",xe,"Transaksi "+e(t.history.status),1)]),s("div",ve,[s("div",ge,[s("div",ke,[we,s("div",je,e(j(t.history.updated_at)),1)]),s("div",Be,[Se,s("div",Ne,e(t.history.order_id),1)]),Te,s("div",Re,[$e,s("div",Ce,e(t.history.category),1)]),t.history.category_id==0||t.history.category_id!=1?(o(),i("div",Ke,[De,t.history.virtual_account?(o(),i("div",Ae,e(t.history.virtual_account.bank),1)):t.history.wallet_account?(o(),i("div",Pe,e(t.history.wallet_account.bank),1)):t.history.offline_account?(o(),i("div",Ve,e(t.history.offline_account.bank),1)):a("",!0)])):a("",!0),t.history.category_id!=0||t.history.category_id!=1?(o(),i("div",Me,[Ie,s("div",Le,e(t.history.product_name),1)])):a("",!0),t.history.category_id!=0||t.history.category_id!=1?(o(),i("div",Fe,[He,s("div",Je,e(t.history.customer_no),1)])):a("",!0),s("div",qe,[ze,s("div",Ee,e(t.history.desc??"-"),1)]),Qe,s("div",We,[Oe,s("div",Ue,"Rp "+e(t.history.category_id==1?l(t.history.amount):l(t.history.gross_amount)),1)]),s("div",Ye,[Ge,s("div",Xe,"Rp "+e(t.history.category_id==1?l(t.history.admin_fee):"0"),1)]),Ze,s("div",so,[to,s("div",eo,"Rp "+e(l(t.history.gross_amount)),1)])])])]))],64))]}),_:1},8,["title","name"]))}};export{ko as default};
