import{_ as U}from"./AppLayout-d3de19bb.js";import{z as Y,d as n,s as $,o as s,c as j,w,a,b as d,u as p,H as b,e as r,h as D,n as k,g as u,t as o,F as i,f as H,m as L,O as N}from"./app-14213192.js";import{h as O}from"./moment-fbc5633a.js";import{_ as P}from"./TextInput-7673c789.js";import{_ as z}from"./Pagination-f88475e7.js";import{_ as y}from"./SelectInput-93faf282.js";import{G as F}from"./vue-tailwind-datepicker-5604c503.js";import"./OnlineStatus-58a37a6d.js";import"./index-95837d61.js";import"./DarkmodeToggle-be497689.js";import"./helper-04030b53.js";import"./use-controllable-9aadd587.js";import"./use-resolve-button-type-a450102f.js";import"./vue3-otp-input.esm-680d5482.js";import"./DialogModal-ec3dd490.js";import"./PrimaryButton-bcf370da.js";import"./InputError-10e4dcec.js";import"./BackgroundParticle-3d653474.js";import"./use-outside-click-f993b61f.js";import"./focus-management-9eac28b7.js";const G={class:""},R={class:"w-full"},T={class:"grid lg:flex space-y-5 lg:space-y-0 lg:gap-3"},E={class:"w-full"},K={class:"grid grid-cols-2 gap-2 w-full"},q={class:""},A={class:"rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm overflow-hidden shadow-lg border border-gray-300"},I={role:"list",class:"divide-y divide-gray-300 dark:divide-gray-600"},J={class:"px-4 py-4 sm:px-6"},Q={class:"flex items-center justify-between"},W={class:"ml-2 flex-shrink-0 flex"},X={class:"flex justify-between"},Z={class:"flex"},xe={__name:"Detail",props:{transaction:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(V){const c=V;Y(()=>{});let m=n(c.filters.search),f=n(c.filters.filterStatus),_=n(c.filters.filterCategory),g=n(c.filters.filterPaginate);const x=n([]);$([m,f,_,g,x],([t,l,e,S,v])=>{N.get(route("report.detail"),{search:t,filter_status:l,filter_category:e,filter_paginate:S,date_start:v?v[0]:null,date_end:v?v[1]:null},{preserveState:!0,replace:!0})});const B=n({date:"YYYY-MM-DD",month:"MMM"}),h=n({shortcuts:{today:"Hari ini",yesterday:"Kemarin",past:t=>t+" hari terakhir",currentMonth:"Bulan ini",pastMonth:"Bulan lalu"},footer:{apply:"Terapkan",cancel:"Batal"}});function C(t){return O(t).format("DD MMM Y HH:mm")}function M(t){return(t/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return(t,l)=>(s(),j(U,{title:"Laporan",name:"Laporan",desc:"Laporan transaksi kamu"},{default:w(()=>[a("div",G,[a("div",R,[d(P,{type:"text",modelValue:p(m),"onUpdate:modelValue":l[0]||(l[0]=e=>b(m)?m.value=e:m=e),placeholder:"Cari disini",class:"block w-full lg:w-96 shadow"},null,8,["modelValue"])])]),a("div",T,[a("div",E,[d(p(F),{modelValue:x.value,"onUpdate:modelValue":l[1]||(l[1]=e=>x.value=e),"input-classes":"bg-white text-black border border-gray-300 focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 rounded-3xl shadow-sm rounded-full",options:h.value,formatter:B.value,placeholder:"Bulan",separator:" - ","use-range":"","as-single":"",i18n:"id"},null,8,["modelValue","options","formatter"])]),a("div",K,[d(y,{"model-value":p(f),"onUpdate:modelValue":l[2]||(l[2]=e=>b(f)?f.value=e:f=e),"model-valueModifiers":{number:!0},option:t.$page.props.selectStatus,class:"block w-full shadow"},null,8,["model-value","option"]),d(y,{"model-value":p(_),"onUpdate:modelValue":l[3]||(l[3]=e=>b(_)?_.value=e:_=e),"model-valueModifiers":{number:!0},option:t.$page.props.selectCategory,class:"block w-full shadow"},null,8,["model-value","option"])])]),a("div",q,[a("div",A,[a("ul",I,[(s(!0),r(i,null,D(c.transaction.data,e=>(s(),r("li",{key:e.id},[d(p(L),{"preserve-scroll":"",href:t.route("history.show",e.order_id),class:"block hover:bg-primary-50"},{default:w(()=>[a("div",J,[a("div",Q,[a("p",{class:k(["text-sm font-medium truncate capitalize",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},[u(o(e.product_name)+" ",1),e.virtual_account?(s(),r(i,{key:0},[u(o(e.virtual_account.bank),1)],64)):e.wallet_account?(s(),r(i,{key:1},[u(o(e.wallet_account.bank),1)],64)):e.offline_account?(s(),r(i,{key:2},[u(o(e.offline_account.bank),1)],64)):e.manual_account?(s(),r(i,{key:3},[u(o(e.manual_account.bank),1)],64)):e.money_transfer?(s(),r(i,{key:4},[e.user_id==t.$page.props.user.id?(s(),r(i,{key:0},[u(" ke "+o(e.money_transfer.to.name),1)],64)):(s(),r(i,{key:1},[u(" dari "+o(e.user.name),1)],64))],64)):H("",!0)],2),a("div",W,[a("p",{class:k(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",e.color])},o(e.status),3)])]),a("div",X,[a("div",Z,[a("p",{class:k(["flex items-center text-xs",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},o(e.category_id==1||e.user_id!=t.$page.props.user.id?"+":"-")+" Rp "+o(e.category_id==1?M(e.amount):M(e.gross_amount)),3)]),a("div",{class:k(["flex items-center text-xs",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},o(C(e.created_at)),3)])])]),_:2},1032,["href"])]))),128))])])]),d(z,{pagination:c.transaction},{select:w(()=>[d(y,{"model-value":p(g),"onUpdate:modelValue":l[4]||(l[4]=e=>b(g)?g.value=e:g=e),"model-valueModifiers":{number:!0},option:t.$page.props.selectPaginate,class:"block text-center shadow"},null,8,["model-value","option"])]),_:1},8,["pagination"])]),_:1}))}};export{xe as default};
