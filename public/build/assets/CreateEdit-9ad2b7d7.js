import{_ as $}from"./AppLayout-cd84e9d4.js";import{T as S,i as w,o as c,c as _,w as o,Q as T,b as a,g as i,t,a as s,e as m,f,h as C,F as g,n as P,u as b}from"./app-80f63d20.js";import{_ as R}from"./PreviousButton-d7accb3c.js";import{_ as j}from"./FormSection-b266ef52.js";import{_ as A}from"./ActionMessage-f31ac589.js";import{_ as v}from"./PrimaryButton-e62c2d1c.js";import{_ as r}from"./InputLabel-39a70a25.js";import"./OnlineStatus-6f7c7a90.js";import"./index-7b41cda6.js";import"./DarkmodeToggle-b35e568b.js";import"./use-controllable-048c02df.js";import"./focus-management-c5e02e7d.js";import"./SectionTitle-bff6ee65.js";import"./_plugin-vue_export-helper-c27b6911.js";const I={class:"col-span-6 sm:col-span-3"},V={class:"font-semibold text-gray-900"},F={class:"col-span-6 sm:col-span-3"},M={class:"font-semibold text-gray-900"},z={key:0,class:"col-span-6 sm:col-span-3"},E={class:"font-semibold text-gray-900"},L={class:"col-span-6 sm:col-span-3"},O={class:"font-semibold text-gray-900"},D={class:"col-span-6 sm:col-span-3"},H={class:"font-semibold text-gray-900"},Q={class:"col-span-6 sm:col-span-3"},q={class:"font-semibold text-gray-900"},G={class:"col-span-6 sm:col-span-3"},J={class:"font-semibold text-gray-900"},K={class:"col-span-6 sm:col-span-3"},U={class:"font-semibold text-gray-900"},W={class:"grid"},me={__name:"CreateEdit",props:{users:Object,customer:Object},setup(y){const e=y,n=S({user_id:e.users.id??null,order_id:e.customer.data.ref_id,customer_no:e.customer.data.customer_no,product_name:e.customer.data.customer_name,sku:e.customer.data.buyer_sku_code,admin:e.customer.data.admin,price:e.customer.data.price,selling_price:e.customer.data.selling_price}),{...h}=w(()=>T().props.user).value,k=()=>{h.pin?n.post(route("pin.topupPasca"),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>closeModal()}):n.post(route("product.topup.pasca"),{errorBag:"storeInformation",preserveScroll:!0,replace:!0})};function d(l){return(l/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return(l,x)=>(c(),_($,{title:e.customer.data.buyer_sku_code.replaceAll("-"," "),name:e.customer.data.buyer_sku_code.replaceAll("-"," "),desc:"Masukkan nomor"},{previous:o(()=>[a(R)]),default:o(()=>[a(j,{class:"sticky top-0 z-40"},{title:o(()=>[i(t(e.customer.data.buyer_sku_code.replaceAll("-"," ")),1)]),description:o(()=>[i(" * Saldo Rekening Rp "+t(d(l.$page.props.user.wallet_balance)),1)]),form:o(()=>{var u,p;return[s("div",I,[a(r,{for:"number",value:"No. Pelanggan"}),s("div",V,t(e.customer.data.customer_no),1)]),s("div",F,[a(r,{for:"number",value:"Nama Pelanggan"}),s("div",M,t(e.customer.data.customer_name),1)]),(u=e.customer.data.desc)!=null&&u.tarif?(c(),m("div",z,[a(r,{for:"number",value:"Stand Meter"}),s("div",E,t(e.customer.data.desc.tarif)+" "+t(e.customer.data.desc.daya??" "),1)])):f("",!0),s("div",L,[a(r,{for:"number",value:"Lembar Tagihan"}),s("div",O,t(e.customer.data.desc.lembar_tagihan),1)]),(p=e.customer.data.desc)!=null&&p.detail?(c(!0),m(g,{key:1},C(e.customer.data.desc.detail,(B,N)=>(c(),m("div",D,[a(r,{for:"number",value:"Periode "+Number(N+1)},null,8,["value"]),s("div",H,t(B.periode),1)]))),256)):f("",!0),s("div",Q,[a(r,{for:"number",value:"Harga"}),s("div",q," Rp "+t(d(e.customer.data.price)),1)]),s("div",G,[a(r,{for:"number",value:"Biaya Admin"}),s("div",J," Rp "+t(d(e.customer.data.admin)),1)]),s("div",K,[a(r,{for:"number",value:"Total"}),s("div",U," Rp "+t(d(e.customer.data.selling_price)),1)])]}),_:1}),s("div",W,[Number(e.customer.data.buyer_last_saldo)>=Number(e.customer.data.selling_price)?(c(),m(g,{key:0},[a(v,{class:P(["w-full justify-center",{"opacity-25":b(n).processing}]),disabled:b(n).processing||l.$page.props.user.wallet_balance<=e.customer.data.selling_price,onClick:k},{default:o(()=>[i(" Bayar ")]),_:1},8,["class","disabled"]),a(A,{on:l.$page.props.user.wallet_balance<=e.customer.data.selling_price,class:"mr-3"},{default:o(()=>[i(" Saldo anda kurang ")]),_:1},8,["on"])],64)):(c(),_(v,{key:1,class:"w-full justify-center",disabled:""},{default:o(()=>[i(" Tidak Tersedia ")]),_:1}))])]),_:1},8,["title","name"]))}};export{me as default};
