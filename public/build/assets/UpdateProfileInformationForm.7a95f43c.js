import{T as E,d as v,c as V,w as n,o as p,g as r,e as S,a as o,b as a,E as _,G as g,P as N,C as k,f as b,u as s,j,n as T,O as z}from"./app.e49231d3.js";import{_ as A}from"./ActionMessage.cfd96726.js";import{_ as F}from"./FormSection.fe556836.js";import{_ as d}from"./InputError.24557f02.js";import{_ as f}from"./InputLabel.8c6cd8b7.js";import{_ as O}from"./PrimaryButton.75ce946a.js";import{_ as $}from"./SecondaryButton.e2bf8b3c.js";import{_ as y}from"./TextInput.0d6011bb.js";import"./SectionTitle.3fe05b21.js";import"./_plugin-vue_export-helper.cdc0426e.js";const D={key:0,class:"col-span-6 sm:col-span-4"},L={class:"mt-2"},R=["src","alt"],G={class:"mt-2"},H={class:"col-span-6 sm:col-span-4"},K={class:"col-span-6 sm:col-span-4"},M={class:"col-span-6 sm:col-span-4"},q={key:0},J={class:"text-sm mt-2"},Q={class:"mt-2 font-medium text-sm text-green-600"},ne={__name:"UpdateProfileInformationForm",props:{user:Object},setup(u){const h=u,e=E({_method:"PUT",name:h.user.name,email:h.user.email,phone:h.user.phone,photo:null}),w=v(null),c=v(null),i=v(null),C=()=>{i.value&&(e.photo=i.value.files[0]),e.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>P()})},x=()=>{w.value=!0},I=()=>{i.value.click()},U=()=>{const t=i.value.files[0];if(!t)return;const l=new FileReader;l.onload=m=>{c.value=m.target.result},l.readAsDataURL(t)},B=()=>{z.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{c.value=null,P()}})},P=()=>{var t;(t=i.value)!=null&&t.value&&(i.value.value=null)};return(t,l)=>(p(),V(F,{onSubmitted:C},{title:n(()=>[r(" Informasi Profil ")]),description:n(()=>[r(" Perbarui informasi profil akun dan alamat email kamu. ")]),form:n(()=>[t.$page.props.jetstream.managesProfilePhotos?(p(),S("div",D,[o("input",{ref_key:"photoInput",ref:i,type:"file",class:"hidden",onChange:U},null,544),a(f,{for:"photo",value:"Photo"}),_(o("div",L,[o("img",{src:u.user.profile_photo_url,alt:u.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,R)],512),[[g,!c.value]]),_(o("div",G,[o("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:N("background-image: url('"+c.value+"');")},null,4)],512),[[g,c.value]]),a($,{class:"mt-2 mr-2 nightwind-prevent",type:"button",onClick:k(I,["prevent"])},{default:n(()=>[r(" Ubah Avatar ")]),_:1}),u.user.profile_photo_path?(p(),V($,{key:0,type:"button",class:"mt-2 nightwind-prevent",onClick:k(B,["prevent"])},{default:n(()=>[r(" Hapus Avatar ")]),_:1})):b("",!0),a(d,{message:s(e).errors.photo,class:"mt-2"},null,8,["message"])])):b("",!0),o("div",H,[a(f,{for:"name",value:"Nama"}),a(y,{id:"name",modelValue:s(e).name,"onUpdate:modelValue":l[0]||(l[0]=m=>s(e).name=m),type:"text",class:"mt-1 block w-full capitalize",autocomplete:"name"},null,8,["modelValue"]),a(d,{message:s(e).errors.name,class:"mt-2"},null,8,["message"])]),o("div",K,[a(f,{for:"phone",value:"Telepon"}),a(y,{id:"phone",modelValue:s(e).phone,"onUpdate:modelValue":l[1]||(l[1]=m=>s(e).phone=m),type:"tel",class:"mt-1 block w-full capitalize"},null,8,["modelValue"]),a(d,{message:s(e).errors.phone,class:"mt-2"},null,8,["message"])]),o("div",M,[a(f,{for:"email",value:"Email"}),a(y,{id:"email",modelValue:s(e).email,"onUpdate:modelValue":l[2]||(l[2]=m=>s(e).email=m),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"]),a(d,{message:s(e).errors.email,class:"mt-2"},null,8,["message"]),t.$page.props.jetstream.hasEmailVerification&&u.user.email_verified_at===null?(p(),S("div",q,[o("p",J,[r(" Email belum diverifikasi. "),a(s(j),{href:t.route("verification.send"),method:"post",as:"button",class:"underline text-gray-600 hover:text-gray-900",onClick:k(x,["prevent"])},{default:n(()=>[r(" Klik di sini untuk mengirim ulang email verifikasi. ")]),_:1},8,["href"])]),_(o("div",Q," Tautan verifikasi baru telah dikirim ke alamat email kamu. ",512),[[g,w.value]])])):b("",!0)])]),actions:n(()=>[a(A,{on:s(e).recentlySuccessful,class:"mr-3"},{default:n(()=>[r(" Berhasil disimpan. ")]),_:1},8,["on"]),a(O,{class:T({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:n(()=>[r(" Simpan ")]),_:1},8,["class","disabled"])]),_:1}))}};export{ne as default};
