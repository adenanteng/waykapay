import{_ as w}from"./AppLayout-799b1487.js";import{o as s,e as n,a as e,f as h,g as r,t as a,n as c,F as o,A as B,O as y,L as $,d as j,s as S,c as N,w as b,h as p,b as m,u as v,m as I}from"./app-91c9f1fa.js";import{_ as R}from"./MobileMenu-1809fbe5.js";import{h as V}from"./moment-fbc5633a.js";import{V as H}from"./vue3-lottie.es-3cc2eaba.js";import"./OnlineStatus-5aa693ee.js";import"./index-2dcbc1a3.js";import"./DarkmodeToggle-3f29351b.js";import"./helper-04030b53.js";import"./use-controllable-d2bcbf9e.js";import"./bcrypt-2546f1f0.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./vue3-otp-input.esm-9413c890.js";import"./DialogModal-d70ba0e4.js";import"./PrimaryButton-ced92059.js";import"./InputError-af9aa329.js";import"./focus-management-ee9d820d.js";const M={key:0,class:"-ml-1 mr-1.5 h-2 w-2 opacity-50",fill:"currentColor",viewBox:"0 0 8 8"},U=e("circle",{cx:"4",cy:"4",r:"3"},null,-1),C=[U],D=e("template",null,[e("div",{class:"bg-green-100 text-green-800"}),e("div",{class:"bg-amber-100 text-amber-800"}),e("div",{class:"bg-red-100 text-red-800"}),e("div",{class:"bg-gray-100 text-gray-800"})],-1),O={__name:"Badge",props:{name:String|Number,class:{type:String,default:"bg-primary-100 text-primary-800"},dot:{type:Boolean,default:!1}},setup(d){const l=d;return(f,g)=>(s(),n(o,null,[e("span",{class:c(["inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium",l.class])},[d.dot?(s(),n("svg",M,C)):h("",!0),r(" "+a(d.name),1)],2),D],64))}},F={class:"col-span-1 divide-y divide-gray-300 dark:divide-gray-600 rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm shadow-lg border border-gray-300"},L={class:"flex w-full items-center justify-between space-x-6 p-6"},z={class:"flex-1 truncate"},A=e("p",{class:"mt-1 truncate text-sm text-gray-500"},"Bulan ini",-1),E={class:"truncate text-sm font-medium text-gray-900"},J=e("span",{class:"truncate text-xs text-gray-500"},"transaksi sukses",-1),K={class:"-mt-px flex divide-x divide-gray-300 dark:divide-gray-600"},P={class:"flex w-0 flex-1"},Y={class:"relative -mr-px inline-flex w-0 flex-1 items-center justify-center rounded-bl-lg border border-transparent py-4"},q=e("i",{class:"fa-duotone fa-down text-primary-400"},null,-1),G={class:"ml-3"},Q=e("div",{class:"text-xs text-gray-500"},"Uang Masuk",-1),T={class:"text-sm font-medium text-gray-700"},W={class:"-ml-px flex w-0 flex-1"},X={class:"relative inline-flex w-0 flex-1 items-center justify-center rounded-br-lg border border-transparent py-4"},Z=e("i",{class:"fa-duotone fa-up text-amber-400"},null,-1),ee={class:"ml-3"},te=e("div",{class:"text-xs text-gray-500"},"Uang Keluar",-1),se={class:"text-sm font-medium text-gray-700"},ae={key:0,class:"animate-pulse rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm shadow-lg border border-gray-300 divide-y divide-gray-300"},ne={class:"px-4 py-4 sm:px-6"},oe=e("div",{class:"flex items-center justify-between"},[e("p",{class:"bg-gray-300 text-gray-300 w-full rounded-3xl"},"a"),e("div",{class:"ml-2 flex-shrink-0 flex"},[e("p",{class:"px-2 bg-gray-300 text-gray-300 rounded-full w-20"},"b")])],-1),re=e("div",{class:"sm:flex sm:justify-between"},[e("p",{class:"flex items-center bg-gray-300 text-gray-300 w-1/2 rounded-3xl"},"c")],-1),ie=[oe,re],le={key:1,class:""},de={class:"text-sm text-gray-500 font-medium ml-5 mt-5 mb-1 flex items-center"},ce={class:"rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm overflow-hidden shadow-lg border border-gray-300"},ue={role:"list",class:"divide-y divide-gray-300 dark:divide-gray-600"},_e={class:"px-4 py-4 sm:px-6"},me={class:"flex items-center justify-between"},xe={class:"ml-2 flex-shrink-0 flex"},pe={class:"flex justify-between"},fe={class:"flex"},ge={class:"px-4 py-4 sm:px-6 text-center text-gray-900 text-sm"},Ce={__name:"Index",props:{history:void 0,in_count:void 0,out_count:void 0,all_process:void 0},setup(d){const l=d;B(()=>{y.reload({only:["history","in_count","out_count","all_process"]})}),$(()=>{clearInterval(f)});const f=setInterval(()=>{console.log("interval"),y.reload({only:["history","in_count","out_count","all_process"]})},1e4);function g(i){return V(i).format("DD MMM Y HH:mm")}function u(i){return(i/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}if(typeof window<"u"){const i=j(JSON.parse(localStorage.getItem("tabHistory"))??2);S(i,_=>{console.log(`tab is ${_}`),localStorage.setItem("tabHistory",JSON.stringify(_))})}return(i,_)=>(s(),N(w,{title:"Riwayat",name:"Riwayat",desc:"Riwayat transaksi kamu"},{default:b(()=>[e("div",F,[e("div",L,[e("div",z,[A,e("h3",E,[r(a(l.all_process)+" ",1),J])])]),e("div",null,[e("div",K,[e("div",P,[e("div",Y,[q,e("div",G,[Q,e("div",T,"Rp "+a(u(l.in_count??0)),1)])])]),e("div",W,[e("div",X,[Z,e("div",ee,[te,e("div",se,"Rp "+a(u(l.out_count??0)),1)])])])])])]),l.history===void 0?(s(),n("div",ae,[(s(),n(o,null,p(6,x=>e("div",ne,ie)),64))])):(s(),n("div",le,[(s(!0),n(o,null,p(l.history,(x,k)=>(s(),n(o,null,[e("h3",de,[r(a(k)+" ",1),m(O,{name:x.length+" transaksi",class:"ml-3 text-xs text-primary-600 bg-primary-100"},null,8,["name"])]),e("div",ce,[e("ul",ue,[(s(!0),n(o,null,p(x,t=>(s(),n("li",{key:t.id},[m(v(I),{href:i.route("history.show",t.order_id),class:"block hover:bg-primary-50"},{default:b(()=>[e("div",_e,[e("div",me,[e("p",{class:c(["text-sm font-medium truncate capitalize",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},[r(a(t.product_name)+" ",1),t.virtual_account?(s(),n(o,{key:0},[r(a(t.virtual_account.bank),1)],64)):t.wallet_account?(s(),n(o,{key:1},[r(a(t.wallet_account.bank),1)],64)):t.offline_account?(s(),n(o,{key:2},[r(a(t.offline_account.bank),1)],64)):t.manual_account?(s(),n(o,{key:3},[r(a(t.manual_account.bank),1)],64)):t.money_transfer?(s(),n(o,{key:4},[t.user_id==i.$page.props.user.id?(s(),n(o,{key:0},[r(" ke "+a(t.money_transfer.to.name),1)],64)):(s(),n(o,{key:1},[r(" dari "+a(t.user.name),1)],64))],64)):h("",!0)],2),e("div",xe,[e("p",{class:c(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",t.color])},a(t.status),3)])]),e("div",pe,[e("div",fe,[e("p",{class:c(["flex items-center text-xs",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},a(t.category_id==1||t.user_id!=i.$page.props.user.id?"+":"-")+" Rp "+a(t.category_id==1?u(t.amount):u(t.gross_amount)),3)]),e("div",{class:c(["flex items-center text-xs",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},a(g(t.created_at)),3)])])]),_:2},1032,["href"])]))),128))])])],64))),256)),e("div",ge,[m(v(H),{"animation-link":"https://lottie.host/847b8a44-3ca7-458b-a9b8-32c1c5d63308/ABskoUU2IH.json",height:200,width:200}),r(" Eits, udah mentok hehe ")])])),m(R)]),_:1}))}};export{Ce as default};
