import{T as E,d as v,c as V,w as n,o as p,g as i,e as C,a as s,b as a,E as _,G as g,L as N,C as k,f as b,u as o,j,n as T,O as z}from"./app.d3bef905.js";import{_ as A}from"./ActionMessage.7b29c3cc.js";import{_ as F}from"./FormSection.90034146.js";import{_ as d}from"./InputError.4869b911.js";import{_ as f}from"./InputLabel.1e7e46b1.js";import{_ as L}from"./PrimaryButton.f8bd5ab2.js";import{_ as S}from"./SecondaryButton.fae5779b.js";import{_ as y}from"./TextInput.36834634.js";import"./SectionTitle.e93226f6.js";import"./_plugin-vue_export-helper.cdc0426e.js";const O={key:0,class:"col-span-6 sm:col-span-4"},D={class:"mt-2"},R=["src","alt"],G={class:"mt-2"},H={class:"col-span-6 sm:col-span-4"},K={class:"col-span-6 sm:col-span-4"},M={class:"col-span-6 sm:col-span-4"},q={key:0},J={class:"text-sm mt-2"},Q={class:"mt-2 font-medium text-sm text-green-600"},ne={__name:"UpdateProfileInformationForm",props:{user:Object},setup(u){const h=u,e=E({_method:"PUT",name:h.user.name,email:h.user.email,phone:h.user.phone,photo:null}),w=v(null),c=v(null),r=v(null),$=()=>{r.value&&(e.photo=r.value.files[0]),e.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>P()})},x=()=>{w.value=!0},I=()=>{r.value.click()},U=()=>{const t=r.value.files[0];if(!t)return;const l=new FileReader;l.onload=m=>{c.value=m.target.result},l.readAsDataURL(t)},B=()=>{z.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{c.value=null,P()}})},P=()=>{var t;(t=r.value)!=null&&t.value&&(r.value.value=null)};return(t,l)=>(p(),V(F,{onSubmitted:$},{title:n(()=>[i(" Informasi Profil ")]),description:n(()=>[i(" Perbarui informasi profil akun dan alamat email kamu. ")]),form:n(()=>[t.$page.props.jetstream.managesProfilePhotos?(p(),C("div",O,[s("input",{ref_key:"photoInput",ref:r,type:"file",class:"hidden",onChange:U},null,544),a(f,{for:"photo",value:"Photo"}),_(s("div",D,[s("img",{src:u.user.profile_photo_url,alt:u.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,R)],512),[[g,!c.value]]),_(s("div",G,[s("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:N("background-image: url('"+c.value+"');")},null,4)],512),[[g,c.value]]),a(S,{class:"mt-2 mr-2 nightwind-prevent",type:"button",onClick:k(I,["prevent"])},{default:n(()=>[i(" Ubah Avatar ")]),_:1},8,["onClick"]),u.user.profile_photo_path?(p(),V(S,{key:0,type:"button",class:"mt-2 nightwind-prevent",onClick:k(B,["prevent"])},{default:n(()=>[i(" Hapus Avatar ")]),_:1},8,["onClick"])):b("",!0),a(d,{message:o(e).errors.photo,class:"mt-2"},null,8,["message"])])):b("",!0),s("div",H,[a(f,{for:"name",value:"Nama"}),a(y,{id:"name",modelValue:o(e).name,"onUpdate:modelValue":l[0]||(l[0]=m=>o(e).name=m),type:"text",class:"mt-1 block w-full capitalize",autocomplete:"name"},null,8,["modelValue"]),a(d,{message:o(e).errors.name,class:"mt-2"},null,8,["message"])]),s("div",K,[a(f,{for:"phone",value:"Telepon"}),a(y,{id:"phone",modelValue:o(e).phone,"onUpdate:modelValue":l[1]||(l[1]=m=>o(e).phone=m),type:"tel",class:"mt-1 block w-full capitalize"},null,8,["modelValue"]),a(d,{message:o(e).errors.phone,class:"mt-2"},null,8,["message"])]),s("div",M,[a(f,{for:"email",value:"Email"}),a(y,{id:"email",modelValue:o(e).email,"onUpdate:modelValue":l[2]||(l[2]=m=>o(e).email=m),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"]),a(d,{message:o(e).errors.email,class:"mt-2"},null,8,["message"]),t.$page.props.jetstream.hasEmailVerification&&u.user.email_verified_at===null?(p(),C("div",q,[s("p",J,[i(" Email belum diverifikasi. "),a(o(j),{href:t.route("verification.send"),method:"post",as:"button",class:"underline text-gray-600 hover:text-gray-900",onClick:k(x,["prevent"])},{default:n(()=>[i(" Klik di sini untuk mengirim ulang email verifikasi. ")]),_:1},8,["href","onClick"])]),_(s("div",Q," Tautan verifikasi baru telah dikirim ke alamat email kamu. ",512),[[g,w.value]])])):b("",!0)])]),actions:n(()=>[a(A,{on:o(e).recentlySuccessful,class:"mr-3"},{default:n(()=>[i(" Berhasil disimpan. ")]),_:1},8,["on"]),a(L,{class:T({"opacity-25":o(e).processing}),disabled:o(e).processing},{default:n(()=>[i(" Simpan ")]),_:1},8,["class","disabled"])]),_:1}))}};export{ne as default};
