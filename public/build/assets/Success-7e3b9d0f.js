import{T as K,d as B,s as R,o,e as i,a as s,b as n,t as e,f as a,F as y,w as l,u as m,l as V,n as D,c as N,E as A,g as u}from"./app-61f03d6b.js";import{e as M}from"./popper.esm-1804335f.js";import{_ as f}from"./PrimaryButton-4fa843f0.js";import{_ as L}from"./SecondaryButton-f76f1ea1.js";import{A as P}from"./ApplicationLogoTitle-acd16358.js";import{m as F}from"./moment-331c4e92.js";import{_ as H}from"./ActionMessage-5bc788ad.js";import{_ as J}from"./InputLabel-2b8e8042.js";import{_ as E}from"./TextInput-a2cfc6de.js";import{_ as I}from"./InputError-e1b2d35a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./_commonjs-dynamic-modules-302442b1.js";const W={class:"rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm overflow-hidden shadow-lg border border-gray-300"},q={class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},z=s("h3",{class:"mt-1 text-lg font-bold leading-6 text-gray-900"},"Transaksi Berhasil",-1),O={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},U={class:"grid grid-cols-1 gap-x-4 gap-y-2 sm:gap-y-8 sm:grid-cols-2 text-gray-900"},Y={class:"sm:col-span-1 flex sm:block justify-between"},G=s("div",{class:"text-sm"},"Tanggal",-1),Q={class:"text-sm font-semibold"},X={class:"sm:col-span-1 flex sm:block justify-between"},Z=s("div",{class:"text-sm"},"Kode Referensi",-1),ss={class:"text-sm font-semibold"},ts=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),es={key:0,class:"sm:col-span-1 flex sm:block justify-between"},os=s("div",{class:"text-sm"},"Kategori",-1),is={class:"text-sm font-semibold"},as={key:1,class:"sm:col-span-1 flex sm:block justify-between"},rs=s("div",{class:"text-sm"},"Sumber Dana",-1),ns={key:0,class:"text-sm font-semibold uppercase"},cs={key:1,class:"text-sm font-semibold uppercase"},ds={key:2,class:"text-sm font-semibold uppercase"},ls={key:3,class:"text-sm font-semibold uppercase"},ms={class:"sm:col-span-1 flex sm:block justify-between"},_s=s("div",{class:"text-sm"},"Jenis Transaksi",-1),hs={class:"text-sm font-semibold uppercase"},us={class:"sm:col-span-1 flex sm:block justify-between"},ys=s("div",{class:"text-sm"},"Bank Tujuan",-1),fs={class:"text-sm font-semibold uppercase"},ps={class:"sm:col-span-1 flex sm:block justify-between"},bs=s("div",{class:"text-sm"},"Nama Tujuan",-1),gs={class:"text-sm font-semibold uppercase"},xs={class:"sm:col-span-1 flex sm:block justify-between"},vs=s("div",{class:"text-sm"},"No. Rekening Tujuan",-1),ks={class:"text-sm font-semibold uppercase"},ws={key:3,class:"sm:col-span-1 flex sm:block justify-between"},js=s("div",{class:"text-sm"},"Produk",-1),Bs={class:"text-sm font-semibold uppercase"},Ns={key:4,class:"sm:col-span-1 flex sm:block justify-between"},Ss=s("div",{class:"text-sm"},"No. Kustomer",-1),$s={class:"text-sm font-semibold"},Ts={class:"sm:col-span-1 flex sm:block justify-between"},Cs=s("div",{class:"text-sm"},"Nama Kustomer",-1),Ks={class:"text-sm font-semibold"},Rs={class:"sm:col-span-2 block justify-between"},Vs=s("div",{class:"text-sm"},"Stroom",-1),Ds={class:"text-sm mt-2 sm:mt-0 font-bold text-center sm:text-left"},As={key:6,class:"sm:col-span-2 block justify-between"},Ms=s("div",{class:"text-sm"},"Keterangan",-1),Ls={class:"text-sm mt-2 sm:mt-0 font-semibold text-center sm:text-left"},Ps=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),Fs={class:"sm:col-span-1 flex sm:block justify-between"},Hs=s("div",{class:"text-sm"},"Nominal",-1),Js={class:"text-sm font-semibold"},Es={class:"sm:col-span-1 flex sm:block justify-between"},Is=s("div",{class:"text-sm"},"Biaya Admin",-1),Ws={class:"text-sm font-semibold"},qs={key:7,class:"sm:col-span-1 flex sm:block justify-between"},zs=s("div",{class:"text-sm"},"Komisi",-1),Os={class:"text-sm font-semibold"},Us={key:8,class:"sm:col-span-1 flex sm:block justify-between"},Ys=s("div",{class:"text-sm"},"Biaya Layanan",-1),Gs={class:"text-sm font-semibold"},Qs=s("span",{class:"my-2 border-t border-gray-600 border-dashed block sm:hidden"},null,-1),Xs={class:"sm:col-span-1 flex sm:block justify-between"},Zs=s("div",{class:"text-sm font-bold"},"Total",-1),st={class:"text-lg font-bold"},tt=s("div",{class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6 text-xs text-gray-500"},[s("p",null,"CV Cahaya Matahari Dunia"),s("p",null,"NPWP: 50.079.228.8-326.000"),s("p",null,"Jl. Lintas Sumatera, Baradatu, Way Kanan, Lampung - 34761")],-1),et={key:0,class:"rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm overflow-hidden shadow-lg border border-gray-300"},ot=s("div",{class:"px-4 py-5 sm:px-6 flex flex-col justify-center items-center sm:items-start"},[s("h3",{class:"mt-1 text-lg font-bold leading-6 text-gray-900"},"Komisi Agen")],-1),it={class:"border-t border-gray-600 border-dashed px-4 py-5 sm:px-6"},at={class:"grid grid-cols-6"},rt={class:"col-span-6 sm:col-span-3"},nt={class:"flex"},ct=s("span",{class:"flex items-center bg-white text-black border border-gray-300 border-r-0 rounded-3xl rounded-r-none shadow-sm mt-1 px-3"}," Rp ",-1),dt={class:"col-span-6 mt-3 flex justify-between items-center"},lt={class:"flex justify-center gap-2"},mt=s("i",{class:"fa-regular fa-print mr-2"},null,-1),_t=s("i",{class:"fa-regular fa-share-nodes mr-2"},null,-1),ht={class:""},ut=s("i",{class:"fa-regular fa-home mr-2"},null,-1),St={__name:"Success",props:{history:Object},setup(S){const t=S,c=K({agent_commission:null}),_=B(null),$=B(null);R(_,r=>{_.value=r.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".")});const T=()=>{c.agent_commission=_.value.replaceAll(".",""),c.patch(route("transaction.update",t.history),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>{c.reset()}})};function C(r){return F(r).format("DD MMM Y HH:mm")}function d(r){return(r/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return(r,h)=>{var p,b,g,x,v,k,w;return o(),i(y,null,[s("div",W,[s("div",q,[n(P,{class:"block sm:hidden"}),z]),s("div",O,[s("div",U,[s("div",Y,[G,s("div",Q,e(C(t.history.updated_at)),1)]),s("div",X,[Z,s("div",ss,e(t.history.order_id),1)]),ts,t.history.category_id==1?(o(),i("div",es,[os,s("div",is,e(t.history.category),1)])):a("",!0),t.history.category_id==1?(o(),i("div",as,[rs,t.history.virtual_account?(o(),i("div",ns,e(t.history.virtual_account.bank),1)):a("",!0),t.history.wallet_account?(o(),i("div",cs,e(t.history.wallet_account.bank),1)):a("",!0),t.history.offline_account?(o(),i("div",ds,e(t.history.offline_account.bank),1)):a("",!0),t.history.manual_account?(o(),i("div",ls,e(t.history.manual_account.bank),1)):a("",!0)])):a("",!0),t.history.category_id==99?(o(),i(y,{key:2},[s("div",ms,[_s,s("div",hs,e(t.history.product_name),1)]),s("div",us,[ys,s("div",fs,e((p=t.history.money_transfer)==null?void 0:p.bank),1)]),s("div",ps,[bs,s("div",gs,e((g=(b=t.history.money_transfer)==null?void 0:b.to)==null?void 0:g.name),1)]),s("div",xs,[vs,s("div",ks,e((v=(x=t.history.money_transfer)==null?void 0:x.to)==null?void 0:v.phone),1)])],64)):a("",!0),t.history.category_id!=99&&t.history.category_id!=1?(o(),i("div",ws,[js,s("div",Bs,e(t.history.product_name),1)])):a("",!0),t.history.category_id!=99&&t.history.category_id!=1?(o(),i("div",Ns,[Ss,s("div",$s,e(t.history.customer_no),1)])):a("",!0),t.history.category_id==5?(o(),i(y,{key:5},[s("div",Ts,[Cs,s("div",Ks,e(t.history.desc.split("/")[1]),1)]),s("div",Rs,[Vs,s("div",Ds,[n(m(M),{content:"Sukses Copy",arrow:"",placement:"right-end"},{default:l(()=>[s("button",{onClick:h[0]||(h[0]=j=>m(A)(t.history.desc.split("/")[0])),class:"text-lg"},e(t.history.desc.split("/")[0]),1)]),_:1})])])],64)):(o(),i("div",As,[Ms,s("div",Ls,e(((w=(k=t.history)==null?void 0:k.desc)==null?void 0:w.replaceAll("/"," "))??"-"),1)])),Ps,s("div",Fs,[Hs,s("div",Js," Rp "+e(t.history.category_id==1||t.history.category_id>=8?d(t.history.amount):d(t.history.gross_amount)),1)]),s("div",Es,[Is,s("div",Ws," Rp "+e(t.history.category_id==1||t.history.category_id>=8?d(t.history.admin_fee):"0"),1)]),t.history.agent_commission?(o(),i("div",qs,[zs,s("div",Os," Rp "+e(d(t.history.agent_commission)),1)])):a("",!0),t.history.service_fee!=0?(o(),i("div",Us,[Ys,s("div",Gs," Rp "+e(d(t.history.service_fee)),1)])):a("",!0),Qs,s("div",Xs,[Zs,s("div",st,"Rp "+e(d(Number(t.history.gross_amount)+Number(t.history.agent_commission))),1)])])]),tt]),t.history.category_id!=0&&t.history.category_id!=1&&r.$page.props.user.role_id!=3&&t.history.user_id==r.$page.props.user.id?(o(),i("div",et,[ot,s("div",it,[s("form",{onSubmit:V(T,["prevent"])},[s("div",at,[s("div",rt,[n(J,{for:"amount",value:"Harga Jual"}),s("div",nt,[ct,n(E,{id:"amount",modelValue:_.value,"onUpdate:modelValue":h[1]||(h[1]=j=>_.value=j),type:"tel",class:"mt-1 block w-full rounded-l-none",min:Number(t.history.gross_amount),required:""},null,8,["modelValue","min"])]),n(I,{message:m(c).errors.agent_commission||$.value,class:"mt-2"},null,8,["message"])]),s("div",dt,[n(H,{on:m(c).recentlySuccessful,class:"mr-3"},{default:l(()=>[u(" Berhasil disimpan. ")]),_:1},8,["on"]),n(f,{class:D({"opacity-25":m(c).processing}),disabled:m(c).processing},{default:l(()=>[u(" Konfirmasi ")]),_:1},8,["class","disabled"])])])],32)])])):a("",!0),s("div",lt,[t.history.user_id==r.$page.props.user.id&&t.history.category_id!=1?(o(),N(f,{key:0,as:"a",href:r.route("transaction.print",t.history.order_id),class:"justify-center w-full"},{default:l(()=>[mt,u(" Cetak ")]),_:1},8,["href"])):a("",!0),t.history.user_id==r.$page.props.user.id&&t.history.category_id!=1?(o(),N(f,{key:1,as:"a",href:r.route("transaction.share",t.history.order_id),class:"justify-center w-full"},{default:l(()=>[_t,u(" Bagikan ")]),_:1},8,["href"])):a("",!0)]),s("div",ht,[n(L,{as:"a",href:r.route("dashboard"),class:"justify-center w-full border border-gray-600 dark:border-white nightwind-prevent"},{default:l(()=>[ut,u(" Beranda ")]),_:1},8,["href"])])],64)}}};export{St as default};
