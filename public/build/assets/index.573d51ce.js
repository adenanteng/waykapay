import{u as k,K as A,L as D,i as M,d as s,M as b,q as O,B as E}from"./app.22cf7f90.js";function L(n){return A()?(D(n),!0):!1}function y(n){return typeof n=="function"?n():k(n)}const h=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const j=Object.prototype.toString,C=n=>j.call(n)==="[object Object]",W=()=>{};function x(n){var e;const t=y(n);return(e=t==null?void 0:t.$el)!=null?e:t}const S=h?window:void 0;h&&window.document;const N=h?window.navigator:void 0;h&&window.location;function g(...n){let e,t,o,a;if(typeof n[0]=="string"||Array.isArray(n[0])?([t,o,a]=n,e=S):[e,t,o,a]=n,!e)return W;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const f=[],l=()=>{f.forEach(r=>r()),f.length=0},u=(r,c,v,i)=>(r.addEventListener(c,v,i),()=>r.removeEventListener(c,v,i)),d=E(()=>[x(e),y(a)],([r,c])=>{if(l(),!r)return;const v=C(c)?{...c}:c;f.push(...t.flatMap(i=>o.map(w=>u(r,i,w,v))))},{immediate:!0,flush:"post"}),p=()=>{d(),l()};return L(p),p}function T(){const n=s(!1);return b()&&O(()=>{n.value=!0}),n}function m(n){const e=T();return M(()=>(e.value,Boolean(n())))}function B(n={}){const{window:e=S}=n,t=e==null?void 0:e.navigator,o=m(()=>t&&"connection"in t),a=s(!0),f=s(!1),l=s(void 0),u=s(void 0),d=s(void 0),p=s(void 0),r=s(void 0),c=s(void 0),v=s("unknown"),i=o.value&&t.connection;function w(){!t||(a.value=t.onLine,l.value=a.value?void 0:Date.now(),u.value=a.value?Date.now():void 0,i&&(d.value=i.downlink,p.value=i.downlinkMax,c.value=i.effectiveType,r.value=i.rtt,f.value=i.saveData,v.value=i.type))}return e&&(g(e,"offline",()=>{a.value=!1,l.value=Date.now()}),g(e,"online",()=>{a.value=!0,u.value=Date.now()})),i&&g(i,"change",w,!1),w(),{isSupported:o,isOnline:a,saveData:f,offlineAt:l,onlineAt:u,downlink:d,downlinkMax:p,effectiveType:c,rtt:r,type:v}}function I(n={}){const{isOnline:e}=B(n);return e}function _(n={},e={}){const{navigator:t=N}=e,o=t,a=m(()=>o&&"canShare"in o);return{isSupported:a,share:async(l={})=>{if(a.value){const u={...y(n),...y(l)};let d=!0;if(u.files&&o.canShare&&(d=o.canShare({files:u.files})),d)return o.share(u)}}}}export{_ as a,I as u};
