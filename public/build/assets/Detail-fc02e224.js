import{_ as U}from"./AppLayout-84945066.js";import{z as Y,d as i,s as $,o,c as j,w,a,b as d,u as p,H as b,e as r,h as D,n as k,g as u,t as s,F as n,f as H,m as L,O as N}from"./app-fb99e43a.js";import{h as O}from"./moment-fbc5633a.js";import{_ as P}from"./TextInput-79d4939d.js";import{_ as z}from"./Pagination-e40de616.js";import{_ as y}from"./SelectInput-4864a384.js";import{G as F}from"./vue-tailwind-datepicker-08e27bba.js";import"./OnlineStatus-c8211bde.js";import"./index-89851ddd.js";import"./DarkmodeToggle-82d2f082.js";import"./helper-04030b53.js";import"./use-controllable-f9cebfbb.js";import"./vue3-otp-input.esm-4e700a2c.js";import"./DialogModal-68582954.js";import"./PrimaryButton-8e2d88ef.js";import"./InputError-5c59af3f.js";import"./BackgroundParticle-57bb7f52.js";import"./focus-management-fe166027.js";const G={class:""},R={class:"w-full"},T={class:"grid lg:flex space-y-5 lg:space-y-0 lg:gap-3"},E={class:"w-full"},K={class:"grid grid-cols-2 gap-2 w-full"},q={class:""},A={class:"rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm overflow-hidden shadow-lg border border-gray-300"},I={role:"list",class:"divide-y divide-gray-300 dark:divide-gray-600"},J={class:"px-4 py-4 sm:px-6"},Q={class:"flex items-center justify-between"},W={class:"ml-2 flex-shrink-0 flex"},X={class:"flex justify-between"},Z={class:"flex"},be={__name:"Detail",props:{transaction:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(V){const c=V;Y(()=>{});let m=i(c.filters.search),f=i(c.filters.filterStatus),_=i(c.filters.filterCategory),g=i(c.filters.filterPaginate);const x=i([]);$([m,f,_,g,x],([t,l,e,S,v])=>{N.get(route("report.detail"),{search:t,filter_status:l,filter_category:e,filter_paginate:S,date_start:v?v[0]:null,date_end:v?v[1]:null},{preserveState:!0,replace:!0})});const B=i({date:"YYYY-MM-DD",month:"MMM"}),h=i({shortcuts:{today:"Hari ini",yesterday:"Kemarin",past:t=>t+" hari terakhir",currentMonth:"Bulan ini",pastMonth:"Bulan lalu"},footer:{apply:"Terapkan",cancel:"Batal"}});function C(t){return O(t).format("DD MMM Y HH:mm")}function M(t){return(t/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return(t,l)=>(o(),j(U,{title:"Laporan",name:"Laporan",desc:"Laporan transaksi kamu"},{default:w(()=>[a("div",G,[a("div",R,[d(P,{type:"text",modelValue:p(m),"onUpdate:modelValue":l[0]||(l[0]=e=>b(m)?m.value=e:m=e),placeholder:"Cari disini",class:"block w-full lg:w-96 shadow"},null,8,["modelValue"])])]),a("div",T,[a("div",E,[d(p(F),{modelValue:x.value,"onUpdate:modelValue":l[1]||(l[1]=e=>x.value=e),"input-classes":"bg-white text-black border border-gray-300 focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 rounded-3xl shadow-sm rounded-full",options:h.value,formatter:B.value,placeholder:"Bulan",separator:" - ","use-range":"","as-single":"",i18n:"id"},null,8,["modelValue","options","formatter"])]),a("div",K,[d(y,{"model-value":p(f),"onUpdate:modelValue":l[2]||(l[2]=e=>b(f)?f.value=e:f=e),"model-valueModifiers":{number:!0},option:t.$page.props.selectStatus,class:"block w-full shadow"},null,8,["model-value","option"]),d(y,{"model-value":p(_),"onUpdate:modelValue":l[3]||(l[3]=e=>b(_)?_.value=e:_=e),"model-valueModifiers":{number:!0},option:t.$page.props.selectCategory,class:"block w-full shadow"},null,8,["model-value","option"])])]),a("div",q,[a("div",A,[a("ul",I,[(o(!0),r(n,null,D(c.transaction.data,e=>(o(),r("li",{key:e.id},[d(p(L),{href:t.route("history.show",e.order_id),class:"block hover:bg-primary-50"},{default:w(()=>[a("div",J,[a("div",Q,[a("p",{class:k(["text-sm font-medium truncate capitalize",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},[u(s(e.product_name)+" ",1),e.virtual_account?(o(),r(n,{key:0},[u(s(e.virtual_account.bank),1)],64)):e.wallet_account?(o(),r(n,{key:1},[u(s(e.wallet_account.bank),1)],64)):e.offline_account?(o(),r(n,{key:2},[u(s(e.offline_account.bank),1)],64)):e.manual_account?(o(),r(n,{key:3},[u(s(e.manual_account.bank),1)],64)):e.money_transfer?(o(),r(n,{key:4},[e.user_id==t.$page.props.user.id?(o(),r(n,{key:0},[u(" ke "+s(e.money_transfer.to.name),1)],64)):(o(),r(n,{key:1},[u(" dari "+s(e.user.name),1)],64))],64)):H("",!0)],2),a("div",W,[a("p",{class:k(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",e.color])},s(e.status),3)])]),a("div",X,[a("div",Z,[a("p",{class:k(["flex items-center text-xs",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},s(e.category_id==1||e.user_id!=t.$page.props.user.id?"+":"-")+" Rp "+s(e.category_id==1?M(e.amount):M(e.gross_amount)),3)]),a("div",{class:k(["flex items-center text-xs",e.status_id==1||e.status_id==2?"text-gray-900":"text-gray-500"])},s(C(e.created_at)),3)])])]),_:2},1032,["href"])]))),128))])])]),d(z,{pagination:c.transaction},{select:w(()=>[d(y,{"model-value":p(g),"onUpdate:modelValue":l[4]||(l[4]=e=>b(g)?g.value=e:g=e),"model-valueModifiers":{number:!0},option:t.$page.props.selectPaginate,class:"block text-center shadow"},null,8,["model-value","option"])]),_:1},8,["pagination"])]),_:1}))}};export{be as default};
