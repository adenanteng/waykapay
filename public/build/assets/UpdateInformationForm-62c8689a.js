import{d as g,z as y,o as x,e as h,T as k,i as S,s as $,b as a,w as t,F as V,Q as N,a as s,t as f,g as _,u as n,n as B}from"./app-7ebb2e1e.js";import{_ as I}from"./ActionMessage-e154bc58.js";import{_ as T}from"./FormSection-ee3481f9.js";import{_ as b}from"./InputError-fda48195.js";import{_ as v}from"./InputLabel-c3218741.js";import{_ as F}from"./PrimaryButton-f53a2e41.js";import{_ as j}from"./TextInput-cc74dc49.js";import{_ as z}from"./ActionSection-37e2ac9c.js";import"./SectionTitle-8e9e9f6a.js";import"./_plugin-vue_export-helper-c27b6911.js";const A=["value"],O={__name:"TextAreaInput",props:{modelValue:String},emits:["update:modelValue"],setup(m,{expose:o}){const e=g(null);return y(()=>{e.value.hasAttribute("autofocus")&&e.value.focus()}),o({focus:()=>e.value.focus()}),(i,l)=>(x(),h("textarea",{ref_key:"input",ref:e,class:"bg-white text-black border-gray-300 focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 rounded-3xl shadow-sm",value:m.modelValue,onInput:l[0]||(l[0]=p=>i.$emit("update:modelValue",p.target.value))},null,40,A))}},R={class:"flex items-center px-2"},U={class:"flex-shrink-0"},C=["src","alt"],D={class:"ml-3 min-w-0 flex-1"},K={class:"text-base font-medium text-gray-800 truncate capitalize"},M={class:"text-sm font-medium text-gray-500 truncate"},q={class:"col-span-6 sm:col-span-3"},E={class:"flex"},P=s("span",{class:"flex items-center bg-white text-black border border-gray-300 border-r-0 rounded-3xl rounded-r-none shadow-sm mt-1 px-3"}," Rp ",-1),Q={class:"mt-1 text-xs text-gray-600"},G={class:"col-span-6 sm:col-span-4"},te={__name:"UpdateInformationForm",props:{users:Object|String,response:Object|String,bank:Object,account_no:String},setup(m){const o=m,e=k({amount:null,bank:o.bank,account_no:o.account_no,desc:null}),{...i}=S(()=>N().props.user).value,l=g(null),p=()=>{e.amount=u.value.replaceAll(".",""),Number(e.amount)>=Number(i.wallet_balance)?l.value="Saldo kurang":i.pin?e.post(route("pin.moneyTransfer"),{errorBag:"storeInformation",preserveScroll:!0,replace:!0,onSuccess:()=>{}}):e.post(route("money-transfer.confirm"),{errorBag:"storeInformation",preserveScroll:!0,replace:!0,onSuccess:()=>{}})};function w(r){return(r/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}const u=g(null);return $(u,r=>{u.value=r.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".")}),(r,c)=>(x(),h(V,null,[a(z,null,{title:t(()=>[]),description:t(()=>[]),content:t(()=>[s("div",R,[s("div",U,[s("img",{class:"h-5 w-full",src:o.bank.logo,alt:o.bank.name},null,8,C)]),s("div",D,[s("div",K,f(o.users.name),1),s("div",M,f(o.account_no),1)])])]),_:1}),a(T,{onSubmitted:p},{title:t(()=>[_(" Mau Transfer berapa? ")]),description:t(()=>[]),form:t(()=>[s("div",q,[a(v,{for:"amount",value:"Nominal"}),s("div",E,[P,a(j,{id:"amount",modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=d=>u.value=d),type:"tel",class:"mt-1 block w-full rounded-l-none",min:"1",max:Number(r.$page.props.user.wallet_balance)<=2e6?r.$page.props.user.wallet_balance:2e6,required:"",autofocus:""},null,8,["modelValue","max"])]),a(b,{message:n(e).errors.amount||l.value,class:"mt-2"},null,8,["message"]),s("p",Q," Nominal Rp 1.000 - Rp "+f(Number(r.$page.props.user.wallet_balance)<=2e6?w(r.$page.props.user.wallet_balance):"2.000.000"),1)]),s("div",G,[a(v,{for:"amount",value:"Keterangan"}),a(O,{id:"desc",modelValue:n(e).desc,"onUpdate:modelValue":c[1]||(c[1]=d=>n(e).desc=d),type:"text",class:"mt-1 block w-full",rows:"1"},null,8,["modelValue"]),a(b,{message:n(e).errors.desc,class:"mt-2"},null,8,["message"])])]),actions:t(()=>[a(I,{on:n(e).recentlySuccessful,class:"mr-3"},{default:t(()=>[_(" Berhasil disimpan. ")]),_:1},8,["on"]),a(F,{class:B({"opacity-25":n(e).processing}),disabled:n(e).processing},{default:t(()=>[_(" Konfirmasi ")]),_:1},8,["class","disabled"])]),_:1})],64))}};export{te as default};
