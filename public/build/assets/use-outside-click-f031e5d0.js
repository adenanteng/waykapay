import{J as p,y as w,I as f,d as g,i as h}from"./app-18ff3188.js";import{c as v,w as x,h as E}from"./focus-management-8b7f2420.js";import{o as I}from"./use-controllable-0d28ce4c.js";function L(e){throw new Error("Unexpected object: "+e)}var b=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(b||{});function O(e,r){let o=r.resolveItems();if(o.length<=0)return null;let i=r.resolveActiveIndex(),s=i??-1,t=(()=>{switch(e.focus){case 0:return o.findIndex(n=>!r.resolveDisabled(n));case 1:{let n=o.slice().reverse().findIndex((l,d,a)=>s!==-1&&a.length-d-1>=s?!1:!r.resolveDisabled(l));return n===-1?n:o.length-1-n}case 2:return o.findIndex((n,l)=>l<=s?!1:!r.resolveDisabled(n));case 3:{let n=o.slice().reverse().findIndex(l=>!r.resolveDisabled(l));return n===-1?n:o.length-1-n}case 4:return o.findIndex(n=>r.resolveId(n)===e.id);case 5:return null;default:L(e)}})();return t===-1?i:t}let m=Symbol("Context");var y=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(y||{});function $(){return C()!==null}function C(){return p(m,null)}function A(e){w(m,e)}function c(e,r,o){v.isServer||f(i=>{document.addEventListener(e,r,o),i(()=>document.removeEventListener(e,r,o))})}function P(e,r,o){v.isServer||f(i=>{window.addEventListener(e,r,o),i(()=>window.removeEventListener(e,r,o))})}function F(e,r,o=h(()=>!0)){function i(t,n){if(!o.value||t.defaultPrevented)return;let l=n(t);if(l===null||!l.getRootNode().contains(l))return;let d=function a(u){return typeof u=="function"?a(u()):Array.isArray(u)||u instanceof Set?u:[u]}(e);for(let a of d){if(a===null)continue;let u=a instanceof HTMLElement?a:I(a);if(u!=null&&u.contains(l)||t.composed&&t.composedPath().includes(u))return}return!x(l,E.Loose)&&l.tabIndex!==-1&&t.preventDefault(),r(t,l)}let s=g(null);c("pointerdown",t=>{var n,l;o.value&&(s.value=((l=(n=t.composedPath)==null?void 0:n.call(t))==null?void 0:l[0])||t.target)},!0),c("mousedown",t=>{var n,l;o.value&&(s.value=((l=(n=t.composedPath)==null?void 0:n.call(t))==null?void 0:l[0])||t.target)},!0),c("click",t=>{s.value&&(i(t,()=>s.value),s.value=null)},!0),c("touchend",t=>i(t,()=>t.target instanceof HTMLElement?t.target:null),!0),P("blur",t=>i(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{$ as C,b as a,A as c,y as l,C as p,P as w,O as x,F as y};
