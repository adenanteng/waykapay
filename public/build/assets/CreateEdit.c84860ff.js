import{_ as N}from"./AppLayout.16c5c80f.js";import{v as C,d as c,c as j,w as o,o as m,b as a,g as d,t,a as s,e as f,h as B,F as x,u as n,n as S,f as M}from"./app.f945b2c8.js";import{_ as L}from"./PreviousButton.2c13173c.js";import{_ as R}from"./FormSection.2ddd07ef.js";import{_ as T}from"./ActionMessage.ccd94cd8.js";import{_ as V}from"./PrimaryButton.87d87264.js";import{_ as g}from"./InputLabel.70483c0c.js";import{a as D}from"./DialogModal.217be714.js";import"./DarkmodeToggle.458b8bce.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./helper.85d7f68a.js";import"./label.b5d15e39.js";import"./focus-management.a7669bf3.js";import"./SectionTitle.33d516d2.js";const F={class:"col-span-6 sm:col-span-3"},O={class:"font-semibold text-gray-900"},E={class:"col-span-6 sm:col-span-3"},I={class:"font-semibold text-gray-900"},z={class:"col-span-6 sm:col-span-3"},H={class:"font-semibold text-gray-900"},q={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},A={key:0,class:"relative rounded-3xl border border-gray-300 bg-white bg-opacity-50 backdrop-blur-2xl px-6 py-5 shadow-lg flex items-center space-x-3 focus-within:border-primary-300 focus-within:ring focus-within:ring-primary-200 focus-within:ring-opacity-50"},G={class:"flex-shrink-0"},J=["src"],K={class:"flex-1 min-w-0"},Q=["onClick"],U=s("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),W={class:"text-sm font-medium text-gray-900"},X={class:"text-sm text-gray-500 truncate"},Y={class:"grid grid-cols-2 justify-between gap-2"},Z=s("div",{class:""}," Produk ",-1),ss={class:"text-right font-medium"},es=s("div",{class:""}," No. Tujuan ",-1),os={class:"text-right font-medium"},ts=s("div",{class:""}," Harga ",-1),rs={class:"text-right font-medium"},as=s("div",{class:""}," Detail Produk ",-1),ns={class:"border border-gray-300 rounded-3xl p-2 mt-2"},ys={__name:"CreateEdit",props:{users:Object,response:Object,customer:Object},setup(y){var k;const i=y,r=C({user_id:(k=i.users.id)!=null?k:null,customer_no:i.customer.data.customer_no,product_name:"",sku:"",amount:""}),w=()=>{r.post(route("product.topup",r),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>b()})};function _(e){return(e/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}const p=c(!1);c(null);let h=c(null);c(null);let u=c(null),v=c(null);const P=e=>{r.customer_no!==""&&(p.value=!0,r.sku=e.buyer_sku_code,r.amount=e.price,r.product_name=e.product_name,e.buyer_sku_code,h=e.product_name,e.brand,u=e.price,v=e.desc)},b=()=>{p.value=!1};return c("Pulsa"),(e,$)=>(m(),j(N,{title:"Pulsa",name:"Pulsa",desc:"Masukkan nomor"},{previous:o(()=>[a(L,{href:e.route("product.pln")},null,8,["href"])]),default:o(()=>[a(R,null,{title:o(()=>[d(" Token PLN ")]),description:o(()=>[d(" * Saldo Rekening Rp "+t(_(e.$page.props.user.wallet_balance)),1)]),form:o(()=>[s("div",F,[a(g,{for:"number",value:"No. Tujuan"}),s("div",O,t(i.customer.data.customer_no),1)]),s("div",E,[a(g,{for:"number",value:"Nama Pelanggan"}),s("div",I,t(i.customer.data.name),1)]),s("div",z,[a(g,{for:"number",value:"Stand Meter"}),s("div",H,t(i.customer.data.segment_power),1)])]),_:1}),s("div",q,[(m(!0),f(x,null,B(i.response.data,l=>(m(),f(x,null,[l.category=="PLN"?(m(),f("div",A,[s("div",G,[s("img",{class:"h-10 w-10",src:"/img/vendor/"+l.brand+".svg",alt:""},null,8,J)]),s("div",K,[s("button",{onClick:cs=>P(l),class:"focus:outline-none text-left"},[U,s("p",W,t(l.product_name),1),s("p",X,"Rp "+t(_(l.price)),1)],8,Q)])])):M("",!0)],64))),256))]),a(D,{show:p.value,onClose:b},{title:o(()=>[d(" Lanjutkan Pembayaran ")]),content:o(()=>[s("div",Y,[Z,s("div",ss,t(n(h)),1),es,s("div",os,t(n(r).customer_no),1),ts,s("div",rs," Rp "+t(_(n(u))),1),as]),s("div",ns,t(n(v)),1)]),footer:o(()=>[a(T,{on:e.$page.props.user.wallet_balance<=n(u),class:"mr-3"},{default:o(()=>[d(" Saldo anda kurang ")]),_:1},8,["on"]),a(V,{class:S(["ml-3",{"opacity-25":n(r).processing}]),disabled:n(r).processing||e.$page.props.user.wallet_balance<=n(u),onClick:w},{default:o(()=>[d(" Beli ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1}))}};export{ys as default};
