import{_ as S}from"./AppLayout.13b47c25.js";import{o as s,e as n,a as e,f as k,g as i,t as a,n as c,F as r,q as N,O as b,s as I,d as R,B as V,c as H,w as h,h as x,b as _,u as w,j as U}from"./app.713b376c.js";import{_ as C}from"./MobileMenu.be4e5a5b.js";import{h as D}from"./moment.9709ab41.js";import{V as M}from"./vue3-lottie.es.b3c5db04.js";import"./Banner.360c0d82.js";import"./DarkmodeToggle.a7e70a24.js";import"./helper.e9fc3b37.js";import"./label.0c101db5.js";import"./index.57da3875.js";import"./focus-management.b0541dc8.js";const O={key:0,class:"-ml-1 mr-1.5 h-2 w-2 opacity-50",fill:"currentColor",viewBox:"0 0 8 8"},F=e("circle",{cx:"4",cy:"4",r:"3"},null,-1),E=[F],J=e("template",null,[e("div",{class:"bg-green-100 text-green-800"}),e("div",{class:"bg-amber-100 text-amber-800"}),e("div",{class:"bg-red-100 text-red-800"}),e("div",{class:"bg-gray-100 text-gray-800"})],-1),L={__name:"Badge",props:{name:String|Number,class:{type:String,default:"bg-primary-100 text-primary-800"},dot:{type:Boolean,default:!1}},setup(d){const l=d;return(p,f)=>(s(),n(r,null,[e("span",{class:c(["inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium",l.class])},[d.dot?(s(),n("svg",O,E)):k("",!0),i(" "+a(d.name),1)],2),J],64))}},q={class:"col-span-1 divide-y divide-gray-300 dark:divide-gray-600 rounded-3xl bg-white bg-opacity-50 shadow-lg border border-gray-300"},z={class:"flex w-full items-center justify-between space-x-6 p-6"},A={class:"flex-1 truncate"},K=e("p",{class:"mt-1 truncate text-sm text-gray-500"},"Total transaksi",-1),P={class:"truncate text-sm font-medium text-gray-900"},T=e("span",{class:"truncate text-xs text-gray-500"},"bulan ini",-1),Y={class:"-mt-px flex divide-x divide-gray-300 dark:divide-gray-600"},G={class:"flex w-0 flex-1"},Q={class:"relative -mr-px inline-flex w-0 flex-1 items-center justify-center rounded-bl-lg border border-transparent py-4"},W=e("i",{class:"fa-duotone fa-down text-primary-400"},null,-1),X={class:"ml-3"},Z=e("div",{class:"text-xs text-gray-500"},"Uang masuk",-1),ee={class:"text-sm font-medium text-gray-700"},te={class:"-ml-px flex w-0 flex-1"},se={class:"relative inline-flex w-0 flex-1 items-center justify-center rounded-br-lg border border-transparent py-4"},ae=e("i",{class:"fa-duotone fa-up text-amber-400"},null,-1),ne={class:"ml-3"},oe=e("div",{class:"text-xs text-gray-500"},"Uang Keluar",-1),re={class:"text-sm font-medium text-gray-700"},ie={key:0,class:"animate-pulse rounded-3xl bg-white shadow-lg border border-gray-300 divide-y divide-gray-300"},le={class:"px-4 py-4 sm:px-6"},de=e("div",{class:"flex items-center justify-between"},[e("p",{class:"bg-gray-300 text-gray-300 w-full rounded-3xl"},"a"),e("div",{class:"ml-2 flex-shrink-0 flex"},[e("p",{class:"px-2 bg-gray-300 text-gray-300 rounded-full w-20"},"b")])],-1),ce=e("div",{class:"sm:flex sm:justify-between"},[e("p",{class:"flex items-center bg-gray-300 text-gray-300 w-1/2 rounded-3xl"},"c")],-1),ue=[de,ce],_e={key:1,class:""},me={class:"text-sm text-gray-900 font-medium ml-5 mt-5 mb-1 flex items-center"},xe={class:"rounded-3xl bg-white bg-opacity-50 backdrop-blur-2xl overflow-hidden shadow-lg border border-gray-300"},pe={role:"list",class:"divide-y divide-gray-300 dark:divide-gray-600"},fe={class:"px-4 py-4 sm:px-6"},ge={class:"flex items-center justify-between"},ye={class:"ml-2 flex-shrink-0 flex"},ve={class:"flex justify-between"},be={class:"flex"},he={class:"px-4 py-4 sm:px-6 text-center text-gray-900 text-sm"},Ue={__name:"Index",props:{history:void 0,in_count:void 0,out_count:void 0,all_process:void 0},setup(d){var g;const l=d;N(()=>{b.reload({only:["history","in_count","out_count","all_process"]})}),I(()=>{clearInterval(p)});const p=setInterval(()=>{console.log("interval"),b.reload({only:["history","in_count","out_count","all_process"]})},1e4);function f(o){return D(o).format("DD MMM Y HH:mm")}function u(o){return(o/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}const B=R((g=JSON.parse(localStorage.getItem("tabHistory")))!=null?g:2);return V(B,o=>{console.log(`tab is ${o}`),localStorage.setItem("tabHistory",JSON.stringify(o))}),(o,$)=>(s(),H(S,{title:"Riwayat",name:"Riwayat",desc:"Riwayat transaksi kamu"},{default:h(()=>{var y,v;return[e("div",q,[e("div",z,[e("div",A,[K,e("h3",P,[i(a(l.all_process)+" ",1),T])])]),e("div",null,[e("div",Y,[e("div",G,[e("div",Q,[W,e("div",X,[Z,e("div",ee,"Rp "+a(u((y=l.in_count)!=null?y:0)),1)])])]),e("div",te,[e("div",se,[ae,e("div",ne,[oe,e("div",re,"Rp "+a(u((v=l.out_count)!=null?v:0)),1)])])])])])]),l.history===void 0?(s(),n("div",ie,[(s(),n(r,null,x(4,m=>e("div",le,ue)),64))])):(s(),n("div",_e,[(s(!0),n(r,null,x(l.history,(m,j)=>(s(),n(r,null,[e("h3",me,[i(a(j)+" ",1),_(L,{name:m.length+" transaksi",class:"ml-3 text-xs text-primary-600 bg-primary-100"},null,8,["name"])]),e("div",xe,[e("ul",pe,[(s(!0),n(r,null,x(m,t=>(s(),n("li",{key:t.id},[_(w(U),{href:o.route("history.show",t.order_id),class:"block hover:bg-primary-50"},{default:h(()=>[e("div",fe,[e("div",ge,[e("p",{class:c(["font-medium truncate uppercase",t.status_id==1||t.status_id==2?"text-primary-600":"text-gray-500"])},[i(a(t.product_name)+" ",1),t.virtual_account?(s(),n(r,{key:0},[i(a(t.virtual_account.bank),1)],64)):t.wallet_account?(s(),n(r,{key:1},[i(a(t.wallet_account.bank),1)],64)):t.money_transfer?(s(),n(r,{key:2},[t.user_id==o.$page.props.user.id?(s(),n(r,{key:0},[i(" ke "+a(t.money_transfer.to.name),1)],64)):(s(),n(r,{key:1},[i(" dari "+a(t.user.name),1)],64))],64)):k("",!0)],2),e("div",ye,[e("p",{class:c(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",t.color])},a(t.status),3)])]),e("div",ve,[e("div",be,[e("p",{class:c(["flex items-center text-sm",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},a(t.category_id==1||t.user_id!=o.$page.props.user.id?"+":"-")+" Rp "+a(t.category_id==1?u(t.amount):u(t.gross_amount)),3)]),e("div",{class:c(["flex items-center text-sm",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},a(f(t.created_at)),3)])])]),_:2},1032,["href"])]))),128))])])],64))),256)),e("div",he,[_(w(M),{"animation-link":"https://lottie.host/847b8a44-3ca7-458b-a9b8-32c1c5d63308/ABskoUU2IH.json",height:200,width:200}),i(" Eits, udah mentok hehe ")])])),_(C)]}),_:1}))}};export{Ue as default};
