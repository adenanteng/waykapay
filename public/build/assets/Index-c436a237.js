import{_ as k}from"./AppLayout-e35e7c50.js";import{z as j,O as x,D as B,i as E,o as s,c as R,w as g,Q as V,a as e,g as i,t as a,e as n,F as o,h as p,b as u,n as _,f as D,u as h,m as M}from"./app-d447c504.js";import{_ as U}from"./MobileMenu-8fb8fd7d.js";import{h as $}from"./moment-fbc5633a.js";import{V as N}from"./vue3-lottie.es-a6d30c24.js";import{_ as P}from"./Badge-e958a454.js";import{P as z,E as C}from"./echo-ac49f2f8.js";import"./OnlineStatus-859df7d6.js";import"./index-e9ddadb4.js";import"./DarkmodeToggle-685496e0.js";import"./helper-04030b53.js";import"./use-controllable-1a8aaad9.js";import"./vue3-otp-input.esm-c6f99faf.js";import"./DialogModal-7802567d.js";import"./PrimaryButton-90699afa.js";import"./InputError-83637a79.js";import"./BackgroundParticle-9f8f7c9d.js";import"./focus-management-c0fb511b.js";const F={class:"col-span-1 divide-y divide-gray-300 dark:divide-gray-600 rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm shadow-lg border border-gray-300"},H={class:"flex w-full items-center justify-between space-x-6 p-6"},I={class:"flex-1 truncate"},L=e("p",{class:"mt-1 truncate text-sm text-gray-500"},"Bulan ini",-1),S={class:"truncate text-sm font-medium text-gray-900"},O=e("span",{class:"truncate text-xs text-gray-500"},"transaksi sukses",-1),T={class:"-mt-px flex divide-x divide-gray-300 dark:divide-gray-600"},A={class:"flex w-0 flex-1"},K={class:"relative -mr-px inline-flex w-0 flex-1 items-center justify-center rounded-bl-lg border border-transparent py-4"},Q=e("i",{class:"fa-duotone fa-down text-primary-400"},null,-1),Y={class:"ml-3"},q=e("div",{class:"text-xs text-gray-500"},"Uang Masuk",-1),G={class:"text-sm font-medium text-gray-700"},J={class:"-ml-px flex w-0 flex-1"},W={class:"relative inline-flex w-0 flex-1 items-center justify-center rounded-br-lg border border-transparent py-4"},X=e("i",{class:"fa-duotone fa-up text-amber-400"},null,-1),Z={class:"ml-3"},ee=e("div",{class:"text-xs text-gray-500"},"Uang Keluar",-1),te={class:"text-sm font-medium text-gray-700"},se={key:0,class:"animate-pulse rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm shadow-lg border border-gray-300 divide-y divide-gray-300"},ae={class:"px-4 py-4 sm:px-6"},ne=e("div",{class:"flex items-center justify-between"},[e("p",{class:"bg-gray-300 text-gray-300 w-full rounded-3xl"},"a"),e("div",{class:"ml-2 flex-shrink-0 flex"},[e("p",{class:"px-2 bg-gray-300 text-gray-300 rounded-full w-20"},"b")])],-1),oe=e("div",{class:"sm:flex sm:justify-between"},[e("p",{class:"flex items-center bg-gray-300 text-gray-300 w-1/2 rounded-3xl"},"c")],-1),ie=[ne,oe],re={key:1,class:""},le={class:"text-sm text-gray-500 font-medium ml-5 mt-5 mb-1 flex items-center"},de={class:"rounded-3xl bg-white bg-opacity-20 backdrop-blur-sm overflow-hidden shadow-lg border border-gray-300"},ce={role:"list",class:"divide-y divide-gray-300 dark:divide-gray-600"},ue={class:"px-4 py-4 sm:px-6"},_e={class:"flex items-center justify-between"},me={class:"ml-2 flex-shrink-0 flex"},pe={class:"flex justify-between"},fe={class:"flex"},xe={class:"px-4 py-4 sm:px-6 text-center text-gray-900 text-sm"},ze={__name:"Index",props:{history:void 0,in_count:void 0,out_count:void 0,all_process:void 0},setup(y){const d=y;j(()=>{x.reload({only:["history","in_count","out_count","all_process"]})}),B(()=>{window.Echo.leave("transaction-channel")});function v(r){return $(r).format("DD MMM Y HH:mm")}function c(r){return(r/1).toFixed(0).replace(".","").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}const{...b}=E(()=>V().props.user).value;return typeof window<"u"&&(window.Pusher=z,window.Echo=new C({broadcaster:"pusher",key:"e4c42e8e3951c6ee37f6",cluster:"ap1",forceTLS:!0}),window.Echo.channel("transaction-channel").listen(".transaction-event",function(l){l.action==="reload"&&l.user===b.slug?(x.reload({only:["history","in_count","out_count","all_process"]}),console.log(l.action,l.user)):console.log(l)})),(r,l)=>(s(),R(k,{title:"Riwayat",name:"Riwayat",desc:"Riwayat transaksi kamu"},{default:g(()=>[e("div",F,[e("div",H,[e("div",I,[L,e("h3",S,[i(a(d.all_process)+" ",1),O])])]),e("div",null,[e("div",T,[e("div",A,[e("div",K,[Q,e("div",Y,[q,e("div",G,"Rp "+a(c(d.in_count??0)),1)])])]),e("div",J,[e("div",W,[X,e("div",Z,[ee,e("div",te,"Rp "+a(c(d.out_count??0)),1)])])])])])]),d.history===void 0?(s(),n("div",se,[(s(),n(o,null,p(6,m=>e("div",ae,ie)),64))])):(s(),n("div",re,[(s(!0),n(o,null,p(d.history,(m,w)=>(s(),n(o,null,[e("h3",le,[i(a(w)+" ",1),u(P,{name:m.length+" transaksi",class:"ml-3 text-xs text-primary-600 bg-primary-100"},null,8,["name"])]),e("div",de,[e("ul",ce,[(s(!0),n(o,null,p(m,t=>(s(),n("li",{key:t.id},[u(h(M),{href:r.route("history.show",t.order_id),class:"block hover:bg-primary-50"},{default:g(()=>{var f;return[e("div",ue,[e("div",_e,[e("p",{class:_(["text-sm font-medium truncate capitalize",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},[i(a(t.product_name)+" ",1),t.virtual_account?(s(),n(o,{key:0},[i(a(t.virtual_account.bank),1)],64)):t.wallet_account?(s(),n(o,{key:1},[i(a(t.wallet_account.bank),1)],64)):t.offline_account?(s(),n(o,{key:2},[i(a(t.offline_account.bank),1)],64)):t.manual_account?(s(),n(o,{key:3},[i(a(t.manual_account.bank),1)],64)):t.money_transfer?(s(),n(o,{key:4},[t.user_id==r.$page.props.user.id?(s(),n(o,{key:0},[i(" ke "+a((f=t.money_transfer)==null?void 0:f.to_name),1)],64)):(s(),n(o,{key:1},[i(" dari "+a(t.user.name),1)],64))],64)):D("",!0)],2),e("div",me,[e("p",{class:_(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",t.color])},a(t.status),3)])]),e("div",pe,[e("div",fe,[e("p",{class:_(["flex items-center text-xs",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},a(t.category_id==1||t.user_id!=r.$page.props.user.id?"+":"-")+" Rp "+a(t.category_id==1?c(t.amount):c(t.gross_amount)),3)]),e("div",{class:_(["flex items-center text-xs",t.status_id==1||t.status_id==2?"text-gray-900":"text-gray-500"])},a(v(t.created_at)),3)])])]}),_:2},1032,["href"])]))),128))])])],64))),256)),e("div",xe,[u(h(N),{"animation-link":"https://lottie.host/847b8a44-3ca7-458b-a9b8-32c1c5d63308/ABskoUU2IH.json",height:200,width:200}),i(" Eits, udah mentok hehe ")])])),u(U)]),_:1}))}};export{ze as default};
