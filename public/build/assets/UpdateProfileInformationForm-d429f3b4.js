import{T as S,d,o as f,c as P,w as a,g as i,a as l,b as o,j as _,v as h,e as x,f as B,k as I,l as V,u as t,n as $}from"./app-f95d9850.js";import{_ as C}from"./ActionMessage-f8060db4.js";import{_ as N}from"./FormSection-ab42ec61.js";import{_ as v}from"./InputError-8a28389b.js";import{_ as g}from"./InputLabel-553db71a.js";import{_ as F}from"./PrimaryButton-1abf74b8.js";import{_ as U}from"./SecondaryButton-d79b8f40.js";import{_ as j}from"./TextInput-d0ab6be6.js";import"./SectionTitle-ac939a20.js";import"./_plugin-vue_export-helper-c27b6911.js";const L={class:"col-span-6 sm:col-span-4"},z={key:0,class:"mt-2"},D=["src","alt"],R={class:"mt-2"},T={class:"col-span-6 sm:col-span-4"},W={__name:"UpdateProfileInformationForm",props:{carousel:Object|null},setup(b){const n=b,e=S({id:n.carousel.id??null,href:n.carousel.href??null,photo:null}),u=d(null),s=d(null),w=()=>{s.value&&(e.photo=s.value.files[0]),e.id==null?e.post(route("carousel.store"),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>p()}):e.put(route("carousel.update",e),{errorBag:"updateInformation",preserveScroll:!0,onSuccess:()=>p()})},k=()=>{s.value.click()},y=()=>{const r=s.value.files[0];if(!r)return;const c=new FileReader;c.onload=m=>{u.value=m.target.result},c.readAsDataURL(r)},p=()=>{var r;(r=s.value)!=null&&r.value&&(s.value.value=null)};return(r,c)=>(f(),P(N,{onSubmitted:w},{title:a(()=>[i(" Carousel ")]),description:a(()=>[i(" Lorem ipsum dolor sit amet ")]),form:a(()=>[l("div",L,[l("input",{ref_key:"photoInput",ref:s,type:"file",class:"hidden",onChange:y},null,544),o(g,{for:"photo",value:"Photo"}),n.carousel?_((f(),x("div",z,[l("img",{src:n.carousel.media[0].original_url,alt:n.carousel.href,class:"h-20 w-auto aspect-video rounded-3xl object-cover"},null,8,D)],512)),[[h,!u.value]]):B("",!0),_(l("div",R,[l("span",{class:"block h-20 w-auto aspect-video rounded-3xl bg-cover bg-no-repeat bg-center",style:I("background-image: url('"+u.value+"');")},null,4)],512),[[h,u.value]]),o(U,{class:"mt-2 mr-2 nightwind-prevent",type:"button",onClick:V(k,["prevent"])},{default:a(()=>[i(" Ubah Foto ")]),_:1}),o(v,{message:t(e).errors.photo,class:"mt-2"},null,8,["message"])]),l("div",T,[o(g,{for:"href",value:"Link"}),o(j,{id:"href",modelValue:t(e).href,"onUpdate:modelValue":c[0]||(c[0]=m=>t(e).href=m),type:"text",class:"mt-1 block w-full",autocomplete:"href"},null,8,["modelValue"]),o(v,{message:t(e).errors.href,class:"mt-2"},null,8,["message"])])]),actions:a(()=>[o(C,{on:t(e).recentlySuccessful,class:"mr-3"},{default:a(()=>[i(" Berhasil disimpan. ")]),_:1},8,["on"]),o(F,{class:$({"opacity-25":t(e).processing}),disabled:t(e).processing},{default:a(()=>[i(" Simpan ")]),_:1},8,["class","disabled"])]),_:1}))}};export{W as default};
